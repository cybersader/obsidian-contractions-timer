/* ============================================
   Theme System: 10 palettes × 3 modes = 30 themes
   Applied via html[data-theme="palette-mode"]
   ============================================ */

/* Color scheme: ensures native form controls (select, input, scrollbar)
   match the theme's light/dark/mid mode */
html[data-theme$="-dark"] { color-scheme: dark; }
html[data-theme$="-light"] { color-scheme: light; }
html[data-theme$="-mid"] { color-scheme: light; }

/* Belt-and-suspenders: force native form controls to inherit color-scheme */
select, input, textarea {
	color-scheme: inherit;
}

/* --- SOFT DARK (default) --- */
html[data-theme="soft-dark"] {
	--bg-primary: #1a1625;
	--bg-secondary: #231f30;
	--bg-elevated: #2d2740;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.9);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #818cf8;
	--accent-dim: #6366f1;
	--accent-muted: rgba(129, 140, 248, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #3b82f6;
	--water-muted: rgba(59, 130, 246, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(26, 22, 37, 0.92);
	--nav-bg: #231f30;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #6b7280;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- SOFT LIGHT --- */
html[data-theme="soft-light"] {
	--bg-primary: #f5f3ff;
	--bg-secondary: #ede9fe;
	--bg-elevated: #ddd6fe;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #1e1b4b;
	--text-secondary: #3730a3;
	--text-muted: rgba(30, 27, 75, 0.5);
	--text-faint: rgba(30, 27, 75, 0.3);
	--accent: #6366f1;
	--accent-dim: #4f46e5;
	--accent-muted: rgba(99, 102, 241, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(245, 243, 255, 0.92);
	--nav-bg: #ede9fe;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #9ca3af;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- CLINICAL DARK --- */
html[data-theme="clinical-dark"] {
	--bg-primary: #0f172a;
	--bg-secondary: #1e293b;
	--bg-elevated: #334155;
	--bg-card: rgba(255, 255, 255, 0.03);
	--bg-card-hover: rgba(255, 255, 255, 0.06);
	--text-primary: rgba(255, 255, 255, 0.92);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.45);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #3b82f6;
	--accent-dim: #2563eb;
	--accent-muted: rgba(59, 130, 246, 0.12);
	--success: #22c55e;
	--success-muted: rgba(34, 197, 94, 0.1);
	--warning: #f59e0b;
	--warning-muted: rgba(245, 158, 11, 0.1);
	--danger: #ef4444;
	--danger-muted: rgba(239, 68, 68, 0.12);
	--water: #0ea5e9;
	--water-muted: rgba(14, 165, 233, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(15, 23, 42, 0.92);
	--nav-bg: #1e293b;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #64748b;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- CLINICAL LIGHT --- */
html[data-theme="clinical-light"] {
	--bg-primary: #f0f4f8;
	--bg-secondary: #e2e8f0;
	--bg-elevated: #cbd5e1;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #0f172a;
	--text-secondary: #334155;
	--text-muted: rgba(15, 23, 42, 0.5);
	--text-faint: rgba(15, 23, 42, 0.3);
	--accent: #2563eb;
	--accent-dim: #1d4ed8;
	--accent-muted: rgba(37, 99, 235, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #0284c7;
	--water-muted: rgba(2, 132, 199, 0.08);
	--border: rgba(0, 0, 0, 0.1);
	--border-muted: rgba(0, 0, 0, 0.05);
	--header-bg: rgba(240, 244, 248, 0.92);
	--nav-bg: #e2e8f0;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #94a3b8;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- WARM DARK --- */
html[data-theme="warm-dark"] {
	--bg-primary: #1c1917;
	--bg-secondary: #292524;
	--bg-elevated: #3f3a36;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.88);
	--text-secondary: rgba(255, 255, 255, 0.65);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.22);
	--accent: #d97706;
	--accent-dim: #b45309;
	--accent-muted: rgba(217, 119, 6, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #38bdf8;
	--water-muted: rgba(56, 189, 248, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(28, 25, 23, 0.92);
	--nav-bg: #292524;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #78716c;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- WARM LIGHT --- */
html[data-theme="warm-light"] {
	--bg-primary: #fefce8;
	--bg-secondary: #fef3c7;
	--bg-elevated: #fde68a;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #1c1917;
	--text-secondary: #44403c;
	--text-muted: rgba(28, 25, 23, 0.5);
	--text-faint: rgba(28, 25, 23, 0.3);
	--accent: #b45309;
	--accent-dim: #92400e;
	--accent-muted: rgba(180, 83, 9, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #0284c7;
	--water-muted: rgba(2, 132, 199, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(254, 252, 232, 0.92);
	--nav-bg: #fef3c7;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #a8a29e;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* ============================================
   New palettes
   ============================================ */

/* --- OCEAN DARK --- */
html[data-theme="ocean-dark"] {
	--bg-primary: #0c1b2a;
	--bg-secondary: #142638;
	--bg-elevated: #1d3349;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.9);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #2dd4bf;
	--accent-dim: #14b8a6;
	--accent-muted: rgba(45, 212, 191, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #3b82f6;
	--water-muted: rgba(59, 130, 246, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(12, 27, 42, 0.92);
	--nav-bg: #142638;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #5c7d8a;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- OCEAN LIGHT --- */
html[data-theme="ocean-light"] {
	--bg-primary: #e8f4f7;
	--bg-secondary: #d2eaef;
	--bg-elevated: #b8dde5;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #0a2c3a;
	--text-secondary: #1a4a5c;
	--text-muted: rgba(10, 44, 58, 0.5);
	--text-faint: rgba(10, 44, 58, 0.3);
	--accent: #0d9488;
	--accent-dim: #0f766e;
	--accent-muted: rgba(13, 148, 136, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(232, 244, 247, 0.92);
	--nav-bg: #d2eaef;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #7eaab5;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- FOREST DARK --- */
html[data-theme="forest-dark"] {
	--bg-primary: #101a14;
	--bg-secondary: #182720;
	--bg-elevated: #253830;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.9);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #86efac;
	--accent-dim: #4ade80;
	--accent-muted: rgba(134, 239, 172, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #3b82f6;
	--water-muted: rgba(59, 130, 246, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(16, 26, 20, 0.92);
	--nav-bg: #182720;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #5c7a6a;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- FOREST LIGHT --- */
html[data-theme="forest-light"] {
	--bg-primary: #eef5e8;
	--bg-secondary: #deead3;
	--bg-elevated: #c8ddba;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #142513;
	--text-secondary: #2d4a2a;
	--text-muted: rgba(20, 37, 19, 0.5);
	--text-faint: rgba(20, 37, 19, 0.3);
	--accent: #16a34a;
	--accent-dim: #15803d;
	--accent-muted: rgba(22, 163, 74, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(238, 245, 232, 0.92);
	--nav-bg: #deead3;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #7da88a;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- SUNSET DARK --- */
html[data-theme="sunset-dark"] {
	--bg-primary: #1a1210;
	--bg-secondary: #271c16;
	--bg-elevated: #3a2a20;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.88);
	--text-secondary: rgba(255, 255, 255, 0.65);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.22);
	--accent: #fb923c;
	--accent-dim: #f97316;
	--accent-muted: rgba(251, 146, 60, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #38bdf8;
	--water-muted: rgba(56, 189, 248, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(26, 18, 16, 0.92);
	--nav-bg: #271c16;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #8a7568;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- SUNSET LIGHT --- */
html[data-theme="sunset-light"] {
	--bg-primary: #fff7ed;
	--bg-secondary: #ffedd5;
	--bg-elevated: #fed7aa;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #431407;
	--text-secondary: #7c2d12;
	--text-muted: rgba(67, 20, 7, 0.5);
	--text-faint: rgba(67, 20, 7, 0.3);
	--accent: #ea580c;
	--accent-dim: #c2410c;
	--accent-muted: rgba(234, 88, 12, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(255, 247, 237, 0.92);
	--nav-bg: #ffedd5;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #b0946e;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- LAVENDER DARK --- */
html[data-theme="lavender-dark"] {
	--bg-primary: #16101f;
	--bg-secondary: #1f172c;
	--bg-elevated: #2d2240;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.9);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #c084fc;
	--accent-dim: #a855f7;
	--accent-muted: rgba(192, 132, 252, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #3b82f6;
	--water-muted: rgba(59, 130, 246, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(22, 16, 31, 0.92);
	--nav-bg: #1f172c;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #7c6b8a;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- LAVENDER LIGHT --- */
html[data-theme="lavender-light"] {
	--bg-primary: #faf5ff;
	--bg-secondary: #f3e8ff;
	--bg-elevated: #e9d5ff;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #2e1065;
	--text-secondary: #581c87;
	--text-muted: rgba(46, 16, 101, 0.5);
	--text-faint: rgba(46, 16, 101, 0.3);
	--accent: #9333ea;
	--accent-dim: #7c3aed;
	--accent-muted: rgba(147, 51, 234, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(250, 245, 255, 0.92);
	--nav-bg: #f3e8ff;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #a89ab5;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- MIDNIGHT DARK --- */
html[data-theme="midnight-dark"] {
	--bg-primary: #080d18;
	--bg-secondary: #0e1626;
	--bg-elevated: #182236;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.9);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #60a5fa;
	--accent-dim: #3b82f6;
	--accent-muted: rgba(96, 165, 250, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #3b82f6;
	--water-muted: rgba(59, 130, 246, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(8, 13, 24, 0.92);
	--nav-bg: #0e1626;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #5a6b8a;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- MIDNIGHT LIGHT --- */
html[data-theme="midnight-light"] {
	--bg-primary: #eef2ff;
	--bg-secondary: #e0e7ff;
	--bg-elevated: #c7d2fe;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #1e1b4b;
	--text-secondary: #3730a3;
	--text-muted: rgba(30, 27, 75, 0.5);
	--text-faint: rgba(30, 27, 75, 0.3);
	--accent: #4f46e5;
	--accent-dim: #4338ca;
	--accent-muted: rgba(79, 70, 229, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(238, 242, 255, 0.92);
	--nav-bg: #e0e7ff;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #8b8db5;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- SKY DARK --- */
html[data-theme="sky-dark"] {
	--bg-primary: #0c1929;
	--bg-secondary: #122338;
	--bg-elevated: #1a3048;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.9);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #38bdf8;
	--accent-dim: #0ea5e9;
	--accent-muted: rgba(56, 189, 248, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #38bdf8;
	--water-muted: rgba(56, 189, 248, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(12, 25, 41, 0.92);
	--nav-bg: #122338;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #6b7280;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- SKY LIGHT --- */
html[data-theme="sky-light"] {
	--bg-primary: #e8f4fd;
	--bg-secondary: #d0e8f9;
	--bg-elevated: #b8dcf5;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #0c2340;
	--text-secondary: #164e7a;
	--text-muted: rgba(12, 35, 64, 0.5);
	--text-faint: rgba(12, 35, 64, 0.3);
	--accent: #0284c7;
	--accent-dim: #0369a1;
	--accent-muted: rgba(2, 132, 199, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #0284c7;
	--water-muted: rgba(2, 132, 199, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(232, 244, 253, 0.92);
	--nav-bg: #d0e8f9;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #7a9ab5;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* --- BLUSH DARK --- */
html[data-theme="blush-dark"] {
	--bg-primary: #1a0b14;
	--bg-secondary: #26111e;
	--bg-elevated: #351a2b;
	--bg-card: rgba(255, 255, 255, 0.02);
	--bg-card-hover: rgba(255, 255, 255, 0.05);
	--text-primary: rgba(255, 255, 255, 0.9);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--text-muted: rgba(255, 255, 255, 0.4);
	--text-faint: rgba(255, 255, 255, 0.25);
	--accent: #f472b6;
	--accent-dim: #ec4899;
	--accent-muted: rgba(244, 114, 182, 0.12);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.1);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.1);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.12);
	--water: #a78bfa;
	--water-muted: rgba(167, 139, 250, 0.1);
	--border: rgba(255, 255, 255, 0.08);
	--border-muted: rgba(255, 255, 255, 0.04);
	--header-bg: rgba(26, 11, 20, 0.92);
	--nav-bg: #26111e;
	--nav-border: rgba(255, 255, 255, 0.06);
	--nav-inactive: #6b7280;
	--toggle-bg: rgba(255, 255, 255, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.06);
	--input-border: rgba(255, 255, 255, 0.1);
	--wave-line: rgba(255, 255, 255, 0.1);
	--wave-grid: rgba(255, 255, 255, 0.05);
	--wave-grid-text: rgba(255, 255, 255, 0.25);
	--wave-text: rgba(255, 255, 255, 0.3);
	--wave-threshold-ok: rgba(74, 222, 128, 0.25);
	--wave-threshold-warn: rgba(251, 191, 36, 0.15);
}

/* --- BLUSH LIGHT --- */
html[data-theme="blush-light"] {
	--bg-primary: #fdf2f8;
	--bg-secondary: #fce7f3;
	--bg-elevated: #fbcfe8;
	--bg-card: rgba(0, 0, 0, 0.02);
	--bg-card-hover: rgba(0, 0, 0, 0.04);
	--text-primary: #4a0d2e;
	--text-secondary: #831843;
	--text-muted: rgba(74, 13, 46, 0.5);
	--text-faint: rgba(74, 13, 46, 0.3);
	--accent: #db2777;
	--accent-dim: #be185d;
	--accent-muted: rgba(219, 39, 119, 0.1);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.08);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.08);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.08);
	--water: #7c3aed;
	--water-muted: rgba(124, 58, 237, 0.08);
	--border: rgba(0, 0, 0, 0.08);
	--border-muted: rgba(0, 0, 0, 0.04);
	--header-bg: rgba(253, 242, 248, 0.92);
	--nav-bg: #fce7f3;
	--nav-border: rgba(0, 0, 0, 0.06);
	--nav-inactive: #b57a9a;
	--toggle-bg: rgba(0, 0, 0, 0.12);
	--toggle-knob: white;
	--input-bg: rgba(0, 0, 0, 0.04);
	--input-border: rgba(0, 0, 0, 0.1);
	--wave-line: rgba(0, 0, 0, 0.12);
	--wave-grid: rgba(0, 0, 0, 0.06);
	--wave-grid-text: rgba(0, 0, 0, 0.35);
	--wave-text: rgba(0, 0, 0, 0.35);
	--wave-threshold-ok: rgba(22, 163, 74, 0.15);
	--wave-threshold-warn: rgba(217, 119, 6, 0.12);
}

/* ============================================
   MID-TONE THEMES: Creative Design System
   Each palette has a unique visual personality:
   gradient mesh bg + glass cards + colored glows
   ============================================ */

/* --- SOFT MID: "Aurora" ---
   Purple aurora background, white glass cards, ethereal violet glow */
html[data-theme="soft-mid"] {
	--theme-font: 'Poppins', sans-serif;
	--bg-primary: #7c5eaa;
	--bg-secondary: #6a4a96;
	--bg-elevated: #9070c0;
	--bg-card: rgba(255, 255, 255, 0.92);
	--bg-card-hover: rgba(255, 255, 255, 0.96);
	--text-primary: #1e1b4b;
	--text-secondary: #312e81;
	--text-muted: rgba(30, 27, 75, 0.65);
	--text-faint: rgba(30, 27, 75, 0.42);
	--accent: #7c3aed;
	--accent-dim: #6d28d9;
	--accent-muted: rgba(124, 58, 237, 0.18);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.15);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.15);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.15);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.15);
	--border: rgba(255, 255, 255, 0.35);
	--border-muted: rgba(255, 255, 255, 0.18);
	--nav-border: rgba(255, 255, 255, 0.25);
	--nav-inactive: rgba(255, 255, 255, 0.55);
	--toggle-bg: rgba(255, 255, 255, 0.30);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.65);
	--input-border: rgba(255, 255, 255, 0.35);
	--wave-line: rgba(139, 92, 246, 0.25);
	--wave-grid: rgba(139, 92, 246, 0.12);
	--wave-grid-text: rgba(46, 16, 101, 0.55);
	--wave-text: rgba(46, 16, 101, 0.55);
	--wave-threshold-ok: rgba(22, 163, 74, 0.30);
	--wave-threshold-warn: rgba(217, 119, 6, 0.25);
	/* Creative: Vibrant aurora mesh — purple/pink/indigo blobs */
	--gradient-bg:
		radial-gradient(ellipse at 15% 40%, rgba(168, 85, 247, 0.50), transparent 55%),
		radial-gradient(ellipse at 75% 20%, rgba(99, 102, 241, 0.45), transparent 50%),
		radial-gradient(ellipse at 50% 85%, rgba(236, 72, 153, 0.35), transparent 55%),
		radial-gradient(circle at 85% 60%, rgba(124, 58, 237, 0.40), transparent 45%),
		radial-gradient(ellipse at 30% 75%, rgba(192, 132, 252, 0.30), transparent 50%),
		linear-gradient(135deg, #6a4a96, #8b5ec8);
	--glow-color: rgba(124, 58, 237, 0.30);
	--glow-color-strong: rgba(124, 58, 237, 0.50);
	--header-bg: linear-gradient(135deg, rgba(106, 74, 150, 0.94), rgba(124, 58, 237, 0.85));
	--nav-bg: linear-gradient(0deg, #5a3e8c, #6a4a96);
	/* Big button: white glass on aurora */
	--big-button-bg: rgba(255, 255, 255, 0.94);
	--big-button-border: rgba(139, 92, 246, 0.50);
	--big-button-color: #7c3aed;
	--big-button-glow: 0 0 32px rgba(139, 92, 246, 0.40), inset 0 2px 0 rgba(255, 255, 255, 1);
	--big-button-active-bg: rgba(255, 240, 240, 0.85);
	--big-button-active-border: rgba(220, 38, 38, 0.45);
	--big-button-active-color: #dc2626;
	--big-button-active-glow: 0 0 32px rgba(220, 38, 38, 0.40);
	--big-button-rest-bg: rgba(240, 255, 240, 0.85);
	--big-button-rest-border: rgba(22, 163, 74, 0.40);
	--big-button-rest-color: #16a34a;
}

/* --- CLINICAL MID: "Terminal" ---
   Near-black background, dark green cards, bright green monospace text */
html[data-theme="clinical-mid"] {
	--theme-font: 'IBM Plex Mono', monospace;
	--bg-primary: #0a1a14;
	--bg-secondary: #0d2018;
	--bg-elevated: #122a1e;
	--bg-card: rgba(10, 40, 28, 0.92);
	--bg-card-hover: rgba(15, 50, 35, 0.95);
	--text-primary: #4ade80;
	--text-secondary: #86efac;
	--text-muted: rgba(74, 222, 128, 0.65);
	--text-faint: rgba(74, 222, 128, 0.40);
	--accent: #22c55e;
	--accent-dim: #16a34a;
	--accent-muted: rgba(34, 197, 94, 0.20);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.18);
	--warning: #facc15;
	--warning-muted: rgba(250, 204, 21, 0.18);
	--danger: #ef4444;
	--danger-muted: rgba(239, 68, 68, 0.18);
	--water: #38bdf8;
	--water-muted: rgba(56, 189, 248, 0.18);
	--border: rgba(34, 197, 94, 0.25);
	--border-muted: rgba(34, 197, 94, 0.12);
	--nav-border: rgba(34, 197, 94, 0.20);
	--nav-inactive: rgba(74, 222, 128, 0.40);
	--toggle-bg: rgba(34, 197, 94, 0.20);
	--toggle-knob: #4ade80;
	--input-bg: rgba(10, 40, 28, 0.80);
	--input-border: rgba(34, 197, 94, 0.30);
	--wave-line: rgba(34, 197, 94, 0.30);
	--wave-grid: rgba(34, 197, 94, 0.15);
	--wave-grid-text: rgba(74, 222, 128, 0.55);
	--wave-text: rgba(74, 222, 128, 0.55);
	--wave-threshold-ok: rgba(74, 222, 128, 0.30);
	--wave-threshold-warn: rgba(250, 204, 21, 0.25);
	/* Creative: Dark green-black with subtle green grid undertones */
	--gradient-bg:
		radial-gradient(ellipse at 50% 50%, rgba(34, 197, 94, 0.08), transparent 70%),
		radial-gradient(ellipse at 20% 80%, rgba(74, 222, 128, 0.05), transparent 50%),
		radial-gradient(ellipse at 80% 20%, rgba(16, 185, 129, 0.06), transparent 55%),
		linear-gradient(180deg, #0a1a14, #0d2018);
	--glow-color: rgba(34, 197, 94, 0.28);
	--glow-color-strong: rgba(34, 197, 94, 0.50);
	--header-bg: linear-gradient(180deg, rgba(10, 26, 20, 0.96), rgba(13, 32, 24, 0.92));
	--nav-bg: linear-gradient(0deg, #081610, #0a1a14);
	/* Big button: terminal green on dark */
	--big-button-bg: rgba(15, 50, 35, 0.95);
	--big-button-border: rgba(34, 197, 94, 0.60);
	--big-button-color: #22c55e;
	--big-button-glow: 0 0 24px rgba(34, 197, 94, 0.50), inset 0 1px 0 rgba(74, 222, 128, 0.15);
	--big-button-active-bg: rgba(50, 15, 15, 0.92);
	--big-button-active-border: rgba(239, 68, 68, 0.60);
	--big-button-active-color: #ef4444;
	--big-button-active-glow: 0 0 24px rgba(239, 68, 68, 0.50);
	--big-button-rest-bg: rgba(10, 50, 30, 0.95);
	--big-button-rest-border: rgba(74, 222, 128, 0.50);
	--big-button-rest-color: #4ade80;
}

/* --- WARM MID: "Cathedral" ---
   Gothic cathedral interior at dusk — dark stone, stained glass light,
   illuminated manuscript parchment cards, liturgical gold accents */
html[data-theme="warm-mid"] {
	--theme-font: 'Cinzel', serif;
	--bg-primary: #1a1008;
	--bg-secondary: #140c04;
	--bg-elevated: #2a1c10;
	--bg-card: rgba(252, 246, 228, 0.94);
	--bg-card-hover: rgba(254, 250, 235, 0.97);
	--text-primary: #f5e6c8;
	--text-secondary: #dcc8a0;
	--text-muted: rgba(245, 230, 200, 0.65);
	--text-faint: rgba(245, 230, 200, 0.58);
	--accent: #e8a820;
	--accent-dim: #a06e08;
	--accent-muted: rgba(232, 168, 32, 0.18);
	--success: #3d8b37;
	--success-muted: rgba(61, 139, 55, 0.18);
	--warning: #c49a1a;
	--warning-muted: rgba(196, 154, 26, 0.18);
	--danger: #f06060;
	--danger-muted: rgba(240, 96, 96, 0.18);
	--water: #3565a8;
	--water-muted: rgba(53, 101, 168, 0.18);
	--border: rgba(196, 136, 14, 0.25);
	--border-muted: rgba(196, 136, 14, 0.12);
	--nav-border: rgba(196, 136, 14, 0.22);
	--nav-inactive: rgba(252, 246, 228, 0.55);
	--toggle-bg: rgba(42, 28, 16, 0.60);
	--toggle-knob: #f5e6c8;
	--input-bg: rgba(42, 28, 16, 0.50);
	--input-border: rgba(196, 136, 14, 0.30);
	--wave-line: rgba(196, 136, 14, 0.28);
	--wave-grid: rgba(196, 136, 14, 0.14);
	--wave-grid-text: rgba(252, 246, 228, 0.55);
	--wave-text: rgba(252, 246, 228, 0.55);
	--wave-threshold-ok: rgba(61, 139, 55, 0.30);
	--wave-threshold-warn: rgba(196, 154, 26, 0.28);
	/* Creative: Dark cathedral stone with warm stained glass light patches */
	--gradient-bg:
		radial-gradient(ellipse 600px 400px at 30% 20%, rgba(196, 136, 14, 0.18), transparent),
		radial-gradient(ellipse 500px 350px at 70% 50%, rgba(139, 69, 19, 0.12), transparent),
		radial-gradient(ellipse 400px 300px at 50% 80%, rgba(160, 110, 8, 0.10), transparent),
		radial-gradient(circle 200px at 80% 15%, rgba(196, 136, 14, 0.08), transparent),
		linear-gradient(180deg, #1a1008, #140c04 40%, #100a04 70%, #0e0802);
	--glow-color: rgba(196, 136, 14, 0.22);
	--glow-color-strong: rgba(196, 136, 14, 0.40);
	--header-bg: linear-gradient(180deg, rgba(26, 16, 8, 0.97), rgba(42, 28, 16, 0.94));
	--nav-bg: linear-gradient(0deg, #100a04, #1a1008);
	/* Big button: illuminated parchment with ornate gold border */
	--big-button-bg: rgba(252, 246, 228, 0.96);
	--big-button-border: rgba(196, 136, 14, 0.55);
	--big-button-color: #8b5e14;
	--big-button-glow: 0 0 32px rgba(196, 136, 14, 0.40), inset 0 2px 4px rgba(255, 255, 255, 0.55);
	--big-button-active-bg: rgba(252, 236, 220, 0.94);
	--big-button-active-border: rgba(184, 50, 48, 0.50);
	--big-button-active-color: #b83230;
	--big-button-active-glow: 0 0 28px rgba(184, 50, 48, 0.35);
	--big-button-rest-bg: rgba(236, 248, 228, 0.94);
	--big-button-rest-border: rgba(61, 139, 55, 0.40);
	--big-button-rest-color: #3d8b37;
}

/* --- OCEAN MID: "Abyss" ---
   Dark deep ocean background, dark teal cards, bright aquamarine text */
html[data-theme="ocean-mid"] {
	--theme-font: 'Quicksand', sans-serif;
	--bg-primary: #0a2530;
	--bg-secondary: #071c25;
	--bg-elevated: #0d3040;
	--bg-card: rgba(8, 47, 73, 0.90);
	--bg-card-hover: rgba(12, 60, 90, 0.94);
	--text-primary: #5eead4;
	--text-secondary: #2dd4bf;
	--text-muted: rgba(94, 234, 212, 0.65);
	--text-faint: rgba(94, 234, 212, 0.40);
	--accent: #14b8a6;
	--accent-dim: #0d9488;
	--accent-muted: rgba(20, 184, 166, 0.20);
	--success: #34d399;
	--success-muted: rgba(52, 211, 153, 0.18);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.18);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.18);
	--water: #38bdf8;
	--water-muted: rgba(56, 189, 248, 0.18);
	--border: rgba(45, 212, 191, 0.25);
	--border-muted: rgba(45, 212, 191, 0.12);
	--nav-border: rgba(45, 212, 191, 0.18);
	--nav-inactive: rgba(94, 234, 212, 0.40);
	--toggle-bg: rgba(45, 212, 191, 0.20);
	--toggle-knob: #5eead4;
	--input-bg: rgba(8, 47, 73, 0.80);
	--input-border: rgba(45, 212, 191, 0.28);
	--wave-line: rgba(45, 212, 191, 0.28);
	--wave-grid: rgba(45, 212, 191, 0.14);
	--wave-grid-text: rgba(94, 234, 212, 0.55);
	--wave-text: rgba(94, 234, 212, 0.55);
	--wave-threshold-ok: rgba(52, 211, 153, 0.30);
	--wave-threshold-warn: rgba(251, 191, 36, 0.25);
	/* Creative: Deep dark ocean with bioluminescent teal spots */
	--gradient-bg:
		radial-gradient(ellipse at 30% 70%, rgba(20, 184, 166, 0.18), transparent 55%),
		radial-gradient(ellipse at 70% 30%, rgba(45, 212, 191, 0.14), transparent 50%),
		radial-gradient(circle at 50% 50%, rgba(94, 234, 212, 0.08), transparent 60%),
		radial-gradient(ellipse at 15% 20%, rgba(6, 182, 212, 0.10), transparent 45%),
		radial-gradient(circle at 85% 80%, rgba(52, 211, 153, 0.12), transparent 40%),
		linear-gradient(180deg, #071c25, #0a2530);
	--glow-color: rgba(20, 184, 166, 0.30);
	--glow-color-strong: rgba(20, 184, 166, 0.50);
	--header-bg: linear-gradient(180deg, rgba(7, 28, 37, 0.96), rgba(10, 37, 48, 0.92));
	--nav-bg: linear-gradient(0deg, #051820, #0a2530);
	/* Big button: teal glow in the deep */
	--big-button-bg: rgba(12, 55, 80, 0.92);
	--big-button-border: rgba(20, 184, 166, 0.50);
	--big-button-color: #14b8a6;
	--big-button-glow: 0 0 32px rgba(45, 212, 191, 0.45), inset 0 1px 0 rgba(45, 212, 191, 0.15);
	--big-button-active-bg: rgba(60, 20, 20, 0.90);
	--big-button-active-border: rgba(248, 113, 113, 0.50);
	--big-button-active-color: #f87171;
	--big-button-active-glow: 0 0 30px rgba(248, 113, 113, 0.45);
	--big-button-rest-bg: rgba(10, 60, 50, 0.92);
	--big-button-rest-border: rgba(52, 211, 153, 0.45);
	--big-button-rest-color: #34d399;
}

/* --- FOREST MID: "Shire" ---
   Dark earthy hobbit-hole interior, aged parchment cards, golden candlelight */
html[data-theme="forest-mid"] {
	--theme-font: 'Playfair Display', serif;
	/* Deep forest green — not brown like Cathedral */
	--bg-primary: #0e1a0e;
	--bg-secondary: #0a120a;
	--bg-elevated: #1a2c1a;
	--bg-card: rgba(245, 240, 225, 0.93);
	--bg-card-hover: rgba(248, 244, 232, 0.96);
	/* Light sage-cream on dark forest bg — bright enough for readability */
	--text-primary: #f0f5ea;
	--text-secondary: #d4e4c4;
	--text-muted: rgba(240, 245, 234, 0.68);
	--text-faint: rgba(240, 245, 234, 0.58);
	/* Mossy green accent — NOT gold like Cathedral */
	--accent: #7cb850;
	--accent-dim: #5da040;
	--accent-muted: rgba(124, 184, 80, 0.18);
	--success: #6b8e23;
	--success-muted: rgba(107, 142, 35, 0.18);
	--warning: #c4a030;
	--warning-muted: rgba(196, 160, 48, 0.18);
	--danger: #f06060;
	--danger-muted: rgba(240, 96, 96, 0.18);
	--water: #4682b4;
	--water-muted: rgba(70, 130, 180, 0.18);
	--border: rgba(93, 158, 62, 0.22);
	--border-muted: rgba(93, 158, 62, 0.10);
	--nav-border: rgba(200, 230, 200, 0.18);
	--nav-inactive: rgba(200, 230, 200, 0.55);
	--toggle-bg: rgba(93, 158, 62, 0.22);
	--toggle-knob: #6b9e3e;
	--input-bg: rgba(14, 26, 14, 0.80);
	--input-border: rgba(93, 158, 62, 0.28);
	--wave-line: rgba(93, 158, 62, 0.28);
	--wave-grid: rgba(93, 158, 62, 0.12);
	--wave-grid-text: rgba(200, 230, 200, 0.55);
	--wave-text: rgba(200, 230, 200, 0.55);
	--wave-threshold-ok: rgba(107, 142, 35, 0.30);
	--wave-threshold-warn: rgba(196, 160, 48, 0.28);
	/* Creative: Deep forest with dappled sunlight through leaves */
	--gradient-bg:
		radial-gradient(ellipse at 25% 20%, rgba(93, 158, 62, 0.12), transparent 45%),
		radial-gradient(ellipse at 70% 50%, rgba(74, 130, 45, 0.10), transparent 50%),
		radial-gradient(circle at 50% 85%, rgba(50, 100, 30, 0.08), transparent 48%),
		radial-gradient(ellipse at 85% 15%, rgba(120, 180, 80, 0.06), transparent 40%),
		radial-gradient(ellipse at 10% 65%, rgba(60, 110, 40, 0.08), transparent 50%),
		linear-gradient(160deg, #0a120a, #0e1a0e 50%, #0c160c);
	--glow-color: rgba(93, 158, 62, 0.24);
	--glow-color-strong: rgba(93, 158, 62, 0.42);
	--header-bg: linear-gradient(160deg, rgba(14, 26, 14, 0.96), rgba(26, 44, 26, 0.92));
	--nav-bg: linear-gradient(0deg, #080e08, #0e1a0e);
	/* Big button: warm parchment with green vine border */
	--big-button-bg: rgba(245, 240, 225, 0.94);
	--big-button-border: rgba(93, 158, 62, 0.50);
	--big-button-color: #2d5a2d;
	--big-button-glow: 0 0 24px rgba(93, 158, 62, 0.30), inset 0 2px 0 rgba(255, 255, 255, 0.40);
	--big-button-active-bg: rgba(252, 238, 230, 0.92);
	--big-button-active-border: rgba(184, 50, 50, 0.50);
	--big-button-active-color: #b83232;
	--big-button-active-glow: 0 0 24px rgba(184, 50, 50, 0.35);
	--big-button-rest-bg: rgba(240, 242, 230, 0.90);
	--big-button-rest-border: rgba(107, 142, 35, 0.45);
	--big-button-rest-color: #4a7a2a;
}

/* --- SUNSET MID: "Retrowave" ---
   Dark purple-navy bg, neon pink/orange text, synthwave grid glow */
html[data-theme="sunset-mid"] {
	--theme-font: 'Space Mono', monospace;
	--bg-primary: #1a0a2e;
	--bg-secondary: #140822;
	--bg-elevated: #22103a;
	--bg-card: rgba(30, 15, 50, 0.88);
	--bg-card-hover: rgba(40, 20, 65, 0.92);
	--text-primary: #fb923c;
	--text-secondary: #f472b6;
	--text-muted: rgba(251, 146, 60, 0.65);
	--text-faint: rgba(251, 146, 60, 0.40);
	--accent: #ec4899;
	--accent-dim: #db2777;
	--accent-muted: rgba(236, 72, 153, 0.20);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.18);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.18);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.18);
	--water: #38bdf8;
	--water-muted: rgba(56, 189, 248, 0.18);
	--border: rgba(236, 72, 153, 0.35);
	--border-muted: rgba(236, 72, 153, 0.15);
	--nav-border: rgba(236, 72, 153, 0.25);
	--nav-inactive: rgba(251, 146, 60, 0.40);
	--toggle-bg: rgba(236, 72, 153, 0.20);
	--toggle-knob: #f472b6;
	--input-bg: rgba(30, 15, 50, 0.80);
	--input-border: rgba(236, 72, 153, 0.30);
	--wave-line: rgba(236, 72, 153, 0.28);
	--wave-grid: rgba(236, 72, 153, 0.14);
	--wave-grid-text: rgba(251, 146, 60, 0.55);
	--wave-text: rgba(251, 146, 60, 0.55);
	--wave-threshold-ok: rgba(74, 222, 128, 0.30);
	--wave-threshold-warn: rgba(251, 191, 36, 0.25);
	/* Creative: Retrowave — dark purple-black, neon grid undertones, pink and orange neon blobs */
	--gradient-bg:
		radial-gradient(ellipse at 30% 40%, rgba(236, 72, 153, 0.30), transparent 50%),
		radial-gradient(ellipse at 70% 60%, rgba(251, 146, 60, 0.25), transparent 48%),
		radial-gradient(ellipse at 50% 85%, rgba(168, 85, 247, 0.20), transparent 55%),
		linear-gradient(180deg, #1a0a2e, #140822);
	--glow-color: rgba(236, 72, 153, 0.30);
	--glow-color-strong: rgba(236, 72, 153, 0.55);
	--header-bg: linear-gradient(180deg, rgba(26, 10, 46, 0.96), rgba(20, 8, 34, 0.92));
	--nav-bg: linear-gradient(0deg, #10061c, #1a0a2e);
	/* Big button: neon pulse */
	--big-button-bg: rgba(40, 20, 60, 0.90);
	--big-button-border: rgba(236, 72, 153, 0.60);
	--big-button-color: #ec4899;
	--big-button-glow: 0 0 40px rgba(236, 72, 153, 0.50), inset 0 0 20px rgba(236, 72, 153, 0.10);
	--big-button-active-bg: rgba(50, 15, 20, 0.90);
	--big-button-active-border: rgba(248, 113, 113, 0.60);
	--big-button-active-color: #f87171;
	--big-button-active-glow: 0 0 40px rgba(248, 113, 113, 0.50);
	--big-button-rest-bg: rgba(15, 40, 25, 0.90);
	--big-button-rest-border: rgba(74, 222, 128, 0.50);
	--big-button-rest-color: #4ade80;
}

/* --- LAVENDER MID: "Frost" ---
   Clean white/ice blue, frosted glass, minimal color, pristine winter aesthetic */
html[data-theme="lavender-mid"] {
	--theme-font: 'DM Sans', sans-serif;
	/* Frost: clean white/ice blue palette */
	--bg-primary: #e8edf4;
	--bg-secondary: #dce3ee;
	--bg-elevated: #f0f4f8;
	--bg-card: rgba(255, 255, 255, 0.96);
	--bg-card-hover: rgba(255, 255, 255, 1.0);
	--text-primary: #1a1f2e;
	--text-secondary: #3d4663;
	--text-muted: rgba(26, 31, 46, 0.58);
	--text-faint: rgba(26, 31, 46, 0.35);
	--accent: #5b8def;
	--accent-dim: #4070d6;
	--accent-muted: rgba(91, 141, 239, 0.14);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.12);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.12);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.12);
	--water: #2563eb;
	--water-muted: rgba(37, 99, 235, 0.12);
	--border: rgba(91, 141, 239, 0.18);
	--border-muted: rgba(91, 141, 239, 0.08);
	--nav-border: rgba(91, 141, 239, 0.15);
	--nav-inactive: rgba(26, 31, 46, 0.40);
	--toggle-bg: rgba(91, 141, 239, 0.15);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.80);
	--input-border: rgba(91, 141, 239, 0.20);
	--wave-line: rgba(91, 141, 239, 0.20);
	--wave-grid: rgba(91, 141, 239, 0.08);
	--wave-grid-text: rgba(26, 31, 46, 0.45);
	--wave-text: rgba(26, 31, 46, 0.45);
	--wave-threshold-ok: rgba(22, 163, 74, 0.25);
	--wave-threshold-warn: rgba(217, 119, 6, 0.22);
	/* Frost: subtle ice-blue gradient with refraction highlights */
	--gradient-bg:
		radial-gradient(ellipse at 20% 30%, rgba(186, 210, 255, 0.35), transparent 55%),
		radial-gradient(ellipse at 80% 60%, rgba(147, 197, 253, 0.25), transparent 50%),
		radial-gradient(ellipse at 50% 90%, rgba(199, 210, 254, 0.20), transparent 50%),
		linear-gradient(160deg, #e2e8f4, #f0f4fb, #e8edf6);
	--glow-color: rgba(91, 141, 239, 0.15);
	--glow-color-strong: rgba(91, 141, 239, 0.30);
	--header-bg: linear-gradient(160deg, rgba(240, 244, 252, 0.97), rgba(226, 232, 244, 0.94));
	--nav-bg: linear-gradient(0deg, #dce3f0, #e4eaf4);
	/* Big button: clean white with ice-blue glow */
	--big-button-bg: rgba(255, 255, 255, 0.98);
	--big-button-border: rgba(91, 141, 239, 0.30);
	--big-button-color: #4070d6;
	--big-button-glow: 0 4px 24px rgba(91, 141, 239, 0.18), inset 0 2px 0 rgba(255, 255, 255, 1);
	--big-button-active-bg: rgba(255, 245, 245, 0.98);
	--big-button-active-border: rgba(220, 38, 38, 0.35);
	--big-button-active-color: #dc2626;
	--big-button-active-glow: 0 4px 24px rgba(220, 38, 38, 0.20);
	--big-button-rest-bg: rgba(245, 255, 245, 0.98);
	--big-button-rest-border: rgba(22, 163, 74, 0.30);
	--big-button-rest-color: #16a34a;
}

/* --- MIDNIGHT MID: "Galaxy" ---
   Deep space near-black bg, near-black cards, pale blue-white text, nebula glow */
html[data-theme="midnight-mid"] {
	--theme-font: 'Space Grotesk', sans-serif;
	--bg-primary: #0c0c1e;
	--bg-secondary: #080818;
	--bg-elevated: #141430;
	--bg-card: rgba(12, 12, 35, 0.92);
	--bg-card-hover: rgba(18, 18, 45, 0.95);
	--text-primary: #c7d2fe;
	--text-secondary: #a5b4fc;
	--text-muted: rgba(199, 210, 254, 0.65);
	--text-faint: rgba(199, 210, 254, 0.40);
	--accent: #6366f1;
	--accent-dim: #4f46e5;
	--accent-muted: rgba(99, 102, 241, 0.20);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.18);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.18);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.18);
	--water: #60a5fa;
	--water-muted: rgba(96, 165, 250, 0.18);
	--border: rgba(99, 102, 241, 0.30);
	--border-muted: rgba(99, 102, 241, 0.14);
	--nav-border: rgba(99, 102, 241, 0.22);
	--nav-inactive: rgba(199, 210, 254, 0.40);
	--toggle-bg: rgba(99, 102, 241, 0.20);
	--toggle-knob: #a5b4fc;
	--input-bg: rgba(12, 12, 35, 0.80);
	--input-border: rgba(99, 102, 241, 0.28);
	--wave-line: rgba(99, 102, 241, 0.25);
	--wave-grid: rgba(99, 102, 241, 0.12);
	--wave-grid-text: rgba(199, 210, 254, 0.55);
	--wave-text: rgba(199, 210, 254, 0.55);
	--wave-threshold-ok: rgba(74, 222, 128, 0.30);
	--wave-threshold-warn: rgba(251, 191, 36, 0.25);
	/* Creative: Galaxy — deep space with nebula blobs in indigo/purple/cyan */
	--gradient-bg:
		radial-gradient(ellipse at 20% 30%, rgba(99, 102, 241, 0.30), transparent 55%),
		radial-gradient(ellipse at 80% 60%, rgba(139, 92, 246, 0.25), transparent 50%),
		radial-gradient(ellipse at 50% 85%, rgba(6, 182, 212, 0.20), transparent 52%),
		radial-gradient(circle at 70% 15%, rgba(165, 180, 252, 0.15), transparent 38%),
		linear-gradient(180deg, #0c0c1e, #080818);
	--glow-color: rgba(99, 102, 241, 0.30);
	--glow-color-strong: rgba(99, 102, 241, 0.55);
	--header-bg: linear-gradient(180deg, rgba(12, 12, 30, 0.96), rgba(8, 8, 24, 0.92));
	--nav-bg: linear-gradient(0deg, #06060f, #0c0c1e);
	/* Big button: stellar glow */
	--big-button-bg: rgba(18, 18, 45, 0.92);
	--big-button-border: rgba(99, 102, 241, 0.50);
	--big-button-color: #818cf8;
	--big-button-glow: 0 0 40px rgba(99, 102, 241, 0.50), 0 0 80px rgba(99, 102, 241, 0.20);
	--big-button-active-bg: rgba(45, 15, 15, 0.92);
	--big-button-active-border: rgba(248, 113, 113, 0.55);
	--big-button-active-color: #f87171;
	--big-button-active-glow: 0 0 40px rgba(248, 113, 113, 0.50);
	--big-button-rest-bg: rgba(12, 35, 20, 0.92);
	--big-button-rest-border: rgba(74, 222, 128, 0.45);
	--big-button-rest-color: #4ade80;
}

/* --- SKY MID: "Dreamscape" ---
   Light sky blue bg, solid white cards, deep blue text, soft cloud blobs */
html[data-theme="sky-mid"] {
	--theme-font: 'Nunito', sans-serif;
	--bg-primary: #8cc8e8;
	--bg-secondary: #72b4d8;
	--bg-elevated: #a0d4f0;
	--bg-card: rgba(255, 255, 255, 0.94);
	--bg-card-hover: rgba(255, 255, 255, 0.98);
	--text-primary: #075985;
	--text-secondary: #0284c7;
	--text-muted: rgba(7, 89, 133, 0.65);
	--text-faint: rgba(7, 89, 133, 0.42);
	--accent: #0284c7;
	--accent-dim: #0369a1;
	--accent-muted: rgba(2, 132, 199, 0.18);
	--success: #16a34a;
	--success-muted: rgba(22, 163, 74, 0.15);
	--warning: #d97706;
	--warning-muted: rgba(217, 119, 6, 0.15);
	--danger: #dc2626;
	--danger-muted: rgba(220, 38, 38, 0.15);
	--water: #0284c7;
	--water-muted: rgba(2, 132, 199, 0.15);
	--border: rgba(2, 132, 199, 0.18);
	--border-muted: rgba(2, 132, 199, 0.08);
	--nav-border: rgba(255, 255, 255, 0.28);
	--nav-inactive: rgba(255, 255, 255, 0.55);
	--toggle-bg: rgba(255, 255, 255, 0.35);
	--toggle-knob: white;
	--input-bg: rgba(255, 255, 255, 0.60);
	--input-border: rgba(2, 132, 199, 0.20);
	--wave-line: rgba(2, 132, 199, 0.20);
	--wave-grid: rgba(2, 132, 199, 0.10);
	--wave-grid-text: rgba(7, 89, 133, 0.50);
	--wave-text: rgba(7, 89, 133, 0.50);
	--wave-threshold-ok: rgba(22, 163, 74, 0.28);
	--wave-threshold-warn: rgba(217, 119, 6, 0.25);
	/* Creative: Dreamscape — soft sky gradient with white cloud blobs */
	--gradient-bg:
		radial-gradient(ellipse at 25% 50%, rgba(186, 230, 253, 0.45), transparent 55%),
		radial-gradient(ellipse at 75% 25%, rgba(255, 255, 255, 0.35), transparent 50%),
		radial-gradient(ellipse at 50% 80%, rgba(125, 211, 252, 0.30), transparent 52%),
		radial-gradient(circle at 15% 20%, rgba(255, 255, 255, 0.28), transparent 35%),
		linear-gradient(165deg, #72b4d8, #8cc8e8);
	--glow-color: rgba(2, 132, 199, 0.22);
	--glow-color-strong: rgba(2, 132, 199, 0.40);
	--header-bg: linear-gradient(165deg, rgba(114, 180, 216, 0.94), rgba(140, 200, 232, 0.88));
	--nav-bg: linear-gradient(0deg, #5aa0c4, #72b4d8);
	/* Big button: sky clarity */
	--big-button-bg: rgba(255, 255, 255, 0.96);
	--big-button-border: rgba(2, 132, 199, 0.30);
	--big-button-color: #0369a1;
	--big-button-glow: 0 8px 32px rgba(56, 189, 248, 0.20), inset 0 3px 8px rgba(186, 230, 253, 0.40);
	--big-button-active-bg: rgba(255, 245, 245, 0.95);
	--big-button-active-border: rgba(220, 38, 38, 0.35);
	--big-button-active-color: #dc2626;
	--big-button-active-glow: 0 8px 32px rgba(220, 38, 38, 0.20);
	--big-button-rest-bg: rgba(245, 255, 245, 0.95);
	--big-button-rest-border: rgba(22, 163, 74, 0.30);
	--big-button-rest-color: #16a34a;
}

/* --- BLUSH MID: "Sakura" ---
   Deep twilight mauve-pink bg, dark mauve cards, soft pink text, cherry blossom glow */
html[data-theme="blush-mid"] {
	--theme-font: 'Fredoka', sans-serif;
	--bg-primary: #4a1a38;
	--bg-secondary: #3a1028;
	--bg-elevated: #5a2448;
	--bg-card: rgba(60, 25, 48, 0.88);
	--bg-card-hover: rgba(75, 35, 58, 0.92);
	--text-primary: #fbcfe8;
	--text-secondary: #f9a8d4;
	--text-muted: rgba(251, 207, 232, 0.65);
	--text-faint: rgba(251, 207, 232, 0.40);
	--accent: #ec4899;
	--accent-dim: #db2777;
	--accent-muted: rgba(236, 72, 153, 0.20);
	--success: #4ade80;
	--success-muted: rgba(74, 222, 128, 0.18);
	--warning: #fbbf24;
	--warning-muted: rgba(251, 191, 36, 0.18);
	--danger: #f87171;
	--danger-muted: rgba(248, 113, 113, 0.18);
	--water: #60a5fa;
	--water-muted: rgba(96, 165, 250, 0.18);
	--border: rgba(236, 72, 153, 0.30);
	--border-muted: rgba(236, 72, 153, 0.14);
	--nav-border: rgba(236, 72, 153, 0.22);
	--nav-inactive: rgba(251, 207, 232, 0.40);
	--toggle-bg: rgba(236, 72, 153, 0.20);
	--toggle-knob: #f9a8d4;
	--input-bg: rgba(60, 25, 48, 0.80);
	--input-border: rgba(236, 72, 153, 0.28);
	--wave-line: rgba(236, 72, 153, 0.25);
	--wave-grid: rgba(236, 72, 153, 0.12);
	--wave-grid-text: rgba(251, 207, 232, 0.55);
	--wave-text: rgba(251, 207, 232, 0.55);
	--wave-threshold-ok: rgba(74, 222, 128, 0.30);
	--wave-threshold-warn: rgba(251, 191, 36, 0.25);
	/* Creative: Sakura — deep twilight pink-mauve with cherry blossom pink blobs */
	--gradient-bg:
		radial-gradient(ellipse at 30% 40%, rgba(244, 114, 182, 0.30), transparent 52%),
		radial-gradient(ellipse at 70% 65%, rgba(236, 72, 153, 0.25), transparent 48%),
		radial-gradient(ellipse at 45% 85%, rgba(251, 207, 232, 0.20), transparent 55%),
		linear-gradient(180deg, #4a1a38, #3a1028);
	--glow-color: rgba(236, 72, 153, 0.28);
	--glow-color-strong: rgba(236, 72, 153, 0.48);
	--header-bg: linear-gradient(180deg, rgba(74, 26, 56, 0.96), rgba(58, 16, 40, 0.92));
	--nav-bg: linear-gradient(0deg, #2e0c20, #4a1a38);
	/* Big button: cherry blossom glow */
	--big-button-bg: rgba(75, 35, 60, 0.90);
	--big-button-border: rgba(244, 114, 182, 0.50);
	--big-button-color: #f472b6;
	--big-button-glow: 0 0 30px rgba(236, 72, 153, 0.40), inset 0 1px 0 rgba(251, 207, 232, 0.15);
	--big-button-active-bg: rgba(60, 20, 20, 0.90);
	--big-button-active-border: rgba(248, 113, 113, 0.55);
	--big-button-active-color: #f87171;
	--big-button-active-glow: 0 0 30px rgba(248, 113, 113, 0.45);
	--big-button-rest-bg: rgba(20, 50, 30, 0.90);
	--big-button-rest-border: rgba(74, 222, 128, 0.45);
	--big-button-rest-color: #4ade80;
}

/* ============================================
   MID-TONE CREATIVE OVERRIDES
   Each palette has a unique visual design language
   ============================================ */

/* === ANIMATIONS === */

@keyframes aurora-drift {
	0%, 100% { background-position: 0% 50%; }
	50% { background-position: 100% 50%; }
}

@keyframes warm-breathe {
	0%, 100% { background-position: 50% 30%; }
	50% { background-position: 50% 70%; }
}

@keyframes ocean-sway {
	0%, 100% { background-position: 30% 50%; }
	50% { background-position: 70% 50%; }
}

@keyframes candlelight-drift {
	0%, 100% { background-position: 20% 40%; }
	33% { background-position: 55% 35%; }
	66% { background-position: 35% 65%; }
}

@keyframes sunset-shift {
	0%, 100% { background-position: 50% 0%; }
	50% { background-position: 50% 100%; }
}

@keyframes neon-border-pulse {
	0%, 100% { border-color: rgba(59, 130, 246, 0.50); box-shadow: 0 0 12px rgba(59, 130, 246, 0.25), inset 0 1px 0 rgba(59, 130, 246, 0.15); }
	50% { border-color: rgba(59, 130, 246, 0.80); box-shadow: 0 0 20px rgba(59, 130, 246, 0.40), inset 0 1px 0 rgba(59, 130, 246, 0.25); }
}

@keyframes cloud-float {
	0%, 100% { background-position: 50% 40%; }
	50% { background-position: 50% 60%; }
}

@keyframes gentle-breathe {
	0%, 100% { transform: scale(1); }
	50% { transform: scale(1.01); }
}

@keyframes shimmer-sweep {
	0% { transform: translateX(-100%); }
	100% { transform: translateX(300%); }
}

@keyframes scan-line-sweep {
	0% { top: 0; }
	100% { top: calc(100% - 2px); }
}

@keyframes orb-float {
	0%, 100% { transform: translate(0, 0); }
	25% { transform: translate(10px, -15px); }
	50% { transform: translate(-8px, 10px); }
	75% { transform: translate(12px, 5px); }
}
@keyframes cursor-blink {
	0%, 49% { opacity: 1; }
	50%, 100% { opacity: 0; }
}

@keyframes light-rays {
	0% { transform: rotate(0deg); }
	100% { transform: rotate(8deg); }
}

@keyframes wave-motion {
	0%, 100% { transform: translateX(0) translateY(0); }
	50% { transform: translateX(-15px) translateY(3px); }
}

@keyframes ring-drift {
	0%, 100% { background-position: 30% 45%; }
	50% { background-position: 70% 55%; }
}

@keyframes sun-descent {
	0%, 100% { top: 8%; opacity: 0.5; }
	50% { top: 25%; opacity: 0.35; }
}

@keyframes prism-rotate {
	0% { transform: rotate(-15deg); }
	100% { transform: rotate(-8deg); }
}

@keyframes twinkle {
	0%, 100% { opacity: 0.2; }
	50% { opacity: 0.8; }
}

@keyframes neon-flicker {
	0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; }
	20%, 24%, 55% { opacity: 0.5; }
}

@keyframes sun-rays {
	from { transform: rotate(0deg); }
	to { transform: rotate(360deg); }
}

@keyframes bubble-bob {
	0%, 100% { transform: translate(0, 0); }
	33% { transform: translate(4px, -8px); }
	66% { transform: translate(-3px, 5px); }
}

@keyframes cushion-squish {
	0% { transform: scale(1); }
	40% { transform: scale(0.98, 0.96); }
	70% { transform: scale(1.01, 1.02); }
	100% { transform: scale(1); }
}

@keyframes grid-scroll {
	0% { background-position: 0 0; }
	100% { background-position: 0 40px; }
}

@keyframes supernova-pulse {
	0%, 100% { box-shadow: 0 0 15px rgba(99, 102, 241, 0.30); }
	50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.70), 0 0 80px rgba(99, 102, 241, 0.25); }
}

@keyframes petal-fall {
	0% { transform: translate(0, 0) rotate(0deg); opacity: 0.7; }
	50% { transform: translate(-15px, 30px) rotate(120deg); opacity: 0.5; }
	100% { transform: translate(5px, 60px) rotate(240deg); opacity: 0; }
}

@keyframes caustic-shimmer {
	0%, 100% { background-position: 0% 0%; }
	33% { background-position: 50% 30%; }
	66% { background-position: 25% 60%; }
}

@keyframes rosette-glow {
	0%, 100% { opacity: 0.55; transform: scale(1) rotate(0deg); }
	25% { opacity: 0.75; transform: scale(1.02) rotate(0.5deg); }
	50% { opacity: 0.85; transform: scale(1.04) rotate(0deg); }
	75% { opacity: 0.70; transform: scale(1.01) rotate(-0.5deg); }
}

@keyframes incense-drift {
	0% { transform: translateY(0) translateX(0); opacity: 0.3; }
	20% { transform: translateY(-15px) translateX(6px); opacity: 0.6; }
	40% { transform: translateY(-30px) translateX(-4px); opacity: 0.45; }
	60% { transform: translateY(-18px) translateX(10px); opacity: 0.7; }
	80% { transform: translateY(-8px) translateX(-6px); opacity: 0.4; }
	100% { transform: translateY(0) translateX(0); opacity: 0.3; }
}

@keyframes gold-shimmer {
	0% { background-position: -200% center; }
	100% { background-position: 200% center; }
}

@keyframes cathedral-breathe {
	0%, 100% { background-position: 50% 50%; }
	25% { background-position: 52% 48%; }
	50% { background-position: 48% 52%; }
	75% { background-position: 50% 50%; }
}

/* ============================================
   1. AURORA (soft-mid) — "Northern Lights on Frosted Glass"
   Dreamy glass blur, aurora drift, purple glow, floating orbs
   ============================================ */

html[data-theme="soft-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
	background-size: 200% 200%;
	animation: aurora-drift 30s ease infinite;
}

html[data-theme="soft-mid"] {
	--radius-md: 20px;
	--radius-lg: 24px;
	--radius-xl: 28px;
	--shadow-sm: 0 2px 12px rgba(139, 92, 246, 0.18), inset 0 1px 0 rgba(255, 255, 255, 0.4);
	--shadow-md: 0 4px 24px rgba(139, 92, 246, 0.22), inset 0 1px 0 rgba(255, 255, 255, 0.45);
	--shadow-lg: 0 8px 36px rgba(139, 92, 246, 0.28), inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

html[data-theme="soft-mid"] .card {
	backdrop-filter: blur(20px) saturate(1.4);
	-webkit-backdrop-filter: blur(20px) saturate(1.4);
	box-shadow: 0 4px 24px rgba(139, 92, 246, 0.25), 0 1px 4px rgba(0, 0, 0, 0.06), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(168, 85, 247, 0.08);
	border: 1px solid rgba(255, 255, 255, 0.35);
	border-bottom: 1px solid rgba(255, 255, 255, 0.40);
	border-radius: 20px;
	position: relative;
	overflow: hidden;
	background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
}

html[data-theme="soft-mid"] .card::before {
	content: '';
	position: absolute;
	top: 0; left: 0;
	width: 40%;
	height: 2px;
	background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), rgba(168, 85, 247, 0.4), transparent);
	animation: shimmer-sweep 4s ease-in-out infinite;
	pointer-events: none;
}

html[data-theme="soft-mid"] .card-elevated {
	backdrop-filter: blur(18px) saturate(1.3);
	-webkit-backdrop-filter: blur(18px) saturate(1.3);
	box-shadow: 0 8px 32px rgba(139, 92, 246, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.55);
}

html[data-theme="soft-mid"] .nav-tab.active {
	text-shadow: 0 0 14px currentColor;
	filter: drop-shadow(0 0 5px currentColor);
}

html[data-theme="soft-mid"] .bottom-nav {
	box-shadow: 0 -4px 24px rgba(139, 92, 246, 0.18);
}

html[data-theme="soft-mid"] .btn-primary {
	box-shadow: 0 4px 18px rgba(139, 92, 246, 0.25);
	border-radius: 20px;
}

html[data-theme="soft-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(circle 120px at 20% 30%, rgba(168, 85, 247, 0.30), transparent),
		radial-gradient(circle 100px at 75% 65%, rgba(129, 140, 248, 0.25), transparent),
		radial-gradient(circle 80px at 50% 85%, rgba(236, 72, 153, 0.22), transparent);
	pointer-events: none;
	z-index: 0;
	animation: orb-float 20s ease-in-out infinite;
}

html[data-theme="soft-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(circle 150px at 70% 20%, rgba(236, 72, 153, 0.18), transparent),
		radial-gradient(circle 130px at 25% 70%, rgba(99, 102, 241, 0.15), transparent),
		radial-gradient(circle 100px at 80% 80%, rgba(168, 85, 247, 0.12), transparent);
	pointer-events: none;
	z-index: 0;
	animation: orb-float 35s ease-in-out infinite reverse;
}

html[data-theme="soft-mid"] .page-title::after {
	content: '';
	display: block;
	width: 50px;
	height: 3px;
	margin-top: 6px;
	background: linear-gradient(90deg, rgba(139, 92, 246, 0.6), rgba(236, 72, 153, 0.3));
	border-radius: 2px;
}

html[data-theme="soft-mid"] .page-title,
html[data-theme="soft-mid"] .section-title {
	text-shadow: 0 0 20px rgba(168, 85, 247, 0.15);
}

html[data-theme="soft-mid"] .nav-tab {
	position: relative;
}

html[data-theme="soft-mid"] .nav-tab.active::after {
	content: '';
	position: absolute;
	bottom: 4px;
	left: 50%;
	transform: translateX(-50%);
	width: 6px;
	height: 6px;
	background: var(--accent);
	border-radius: 50%;
	box-shadow: 0 0 8px var(--accent);
}

html[data-theme="soft-mid"] .card:hover {
	transform: scale(1.02);
	backdrop-filter: blur(20px) saturate(1.4);
	-webkit-backdrop-filter: blur(20px) saturate(1.4);
	transition: transform 200ms ease, backdrop-filter 200ms;
}

html[data-theme="soft-mid"] .btn-primary:active {
	box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.20), 0 4px 18px rgba(139, 92, 246, 0.25);
}

/* ============================================
   2. TERMINAL (clinical-mid) — "Green Phosphor CRT"
   Near-black bg, scanlines, green text glow, dot grid
   ============================================ */

html[data-theme="clinical-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
}

html[data-theme="clinical-mid"] {
	--radius-md: 6px;
	--radius-lg: 8px;
	--radius-xl: 10px;
	--shadow-sm: 0 0 8px rgba(34, 197, 94, 0.15), inset 0 1px 0 rgba(74, 222, 128, 0.08);
	--shadow-md: 0 0 16px rgba(34, 197, 94, 0.22), inset 0 1px 0 rgba(74, 222, 128, 0.10);
	--shadow-lg: 0 0 24px rgba(34, 197, 94, 0.30), inset 0 1px 0 rgba(74, 222, 128, 0.12);
}

html[data-theme="clinical-mid"] .card {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(34, 197, 94, 0.30);
	border-radius: 6px;
	box-shadow: 0 0 12px rgba(34, 197, 94, 0.15), inset 0 1px 0 rgba(74, 222, 128, 0.08);
	position: relative;
}

html[data-theme="clinical-mid"] .card::before {
	content: '';
	position: absolute;
	top: 0; left: 0; right: 0; bottom: 0;
	background: repeating-linear-gradient(
		0deg,
		transparent 0, transparent 2px,
		rgba(74, 222, 128, 0.03) 2px, rgba(74, 222, 128, 0.03) 4px
	);
	pointer-events: none;
	border-radius: 6px;
}

html[data-theme="clinical-mid"] .card::after {
	content: '';
	position: absolute;
	bottom: 0; left: 10%; right: 10%;
	height: 1px;
	background: linear-gradient(90deg, transparent, rgba(34, 197, 94, 0.35), transparent);
}

html[data-theme="clinical-mid"] .card-elevated {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(34, 197, 94, 0.40);
	box-shadow: 0 0 18px rgba(34, 197, 94, 0.22), inset 0 1px 0 rgba(74, 222, 128, 0.10);
}

html[data-theme="clinical-mid"] .nav-tab.active {
	text-shadow: 0 0 8px rgba(34, 197, 94, 0.50);
	font-weight: 700;
}

html[data-theme="clinical-mid"] .bottom-nav {
	border-top: 1px solid rgba(34, 197, 94, 0.25);
	box-shadow: 0 -2px 12px rgba(34, 197, 94, 0.12);
}

html[data-theme="clinical-mid"] .btn-primary {
	border-radius: 6px;
	box-shadow: 0 0 10px rgba(34, 197, 94, 0.20);
}

/* CRT scanlines across entire screen */
html[data-theme="clinical-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		repeating-linear-gradient(
			0deg,
			transparent 0, transparent 2px,
			rgba(74, 222, 128, 0.04) 2px, rgba(74, 222, 128, 0.04) 4px
		),
		radial-gradient(circle 1px at center, rgba(34, 197, 94, 0.15) 1px, transparent 1px);
	background-size: 100% 4px, 20px 20px;
	pointer-events: none;
	z-index: 0;
}

/* CRT vignette + subtle green ambience */
html[data-theme="clinical-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background: radial-gradient(ellipse at center, transparent 50%, rgba(0, 0, 0, 0.35) 100%);
	pointer-events: none;
	z-index: 0;
}

/* Blinking cursor before page titles */
html[data-theme="clinical-mid"] .page-title::before {
	content: '> ';
	color: var(--accent);
	animation: cursor-blink 1.2s step-end infinite;
}

html[data-theme="clinical-mid"] .page-title {
	text-shadow: 0 0 8px rgba(34, 197, 94, 0.30);
}

html[data-theme="clinical-mid"] .page-title::after {
	content: '';
	display: block;
	width: 40px;
	height: 2px;
	margin-top: 6px;
	background: var(--accent);
	box-shadow: 0 0 6px rgba(34, 197, 94, 0.40);
}

html[data-theme="clinical-mid"] .section-title::before {
	content: '>> ';
	color: var(--accent);
	font-family: 'IBM Plex Mono', monospace;
	font-size: 0.85em;
}

html[data-theme="clinical-mid"] .bottom-nav::before {
	content: '';
	position: absolute;
	top: 0; left: 10%; right: 10%;
	height: 1px;
	background: linear-gradient(90deg, transparent, rgba(34, 197, 94, 0.40), transparent);
	box-shadow: 0 0 6px rgba(34, 197, 94, 0.25);
}

html[data-theme="clinical-mid"] .card:active {
	box-shadow: 0 0 18px rgba(34, 197, 94, 0.30), inset 0 0 12px rgba(34, 197, 94, 0.08);
	transition: box-shadow 100ms;
}

/* All text gets subtle green glow */
html[data-theme="clinical-mid"] .page-title,
html[data-theme="clinical-mid"] .section-title,
html[data-theme="clinical-mid"] .card {
	text-shadow: 0 0 8px rgba(34, 197, 94, 0.20);
}

/* ============================================
   3. CATHEDRAL (warm-mid) — "Gloria in Excelsis Deo"
   Dark Gothic cathedral interior at dusk. Massive rose windows cast
   ruby, sapphire, and emerald light across ancient stone. Gold leaf
   and illuminated manuscript pages glow in the amber candlelight.
   Incense smoke drifts through shafts of colored light.
   ============================================ */

html[data-theme="warm-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
	background-size: 300% 300%;
	animation: cathedral-breathe 30s ease-in-out infinite;
}

html[data-theme="warm-mid"] {
	--radius-md: 8px;
	--radius-lg: 10px;
	--radius-xl: 12px;
	--shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.40), 0 0 12px rgba(196, 136, 14, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.30);
	--shadow-md: 0 4px 16px rgba(0, 0, 0, 0.50), 0 0 20px rgba(196, 136, 14, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.35);
	--shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.55), 0 0 32px rgba(196, 136, 14, 0.18), inset 0 1px 0 rgba(255, 255, 255, 0.40);
}

/* --- Dark text inside light-bg containers (parchment cards & panels) ---
   Global --text-primary is LIGHT (cream) for dark cathedral bg.
   Override to DARK brown inside any element with a --bg-card background. */
html[data-theme="warm-mid"] [class*="card"],
html[data-theme="warm-mid"] [class*="chart"],
html[data-theme="warm-mid"] [class*="hero"],
html[data-theme="warm-mid"] [class*="untimed"],
html[data-theme="warm-mid"] [class*="controls"],
html[data-theme="warm-mid"] [class*="event-button"],
html[data-theme="warm-mid"] [class*="collapsible"],
html[data-theme="warm-mid"] [class*="contextual-tip"],
html[data-theme="warm-mid"] [class*="braxton"],
html[data-theme="warm-mid"] [class*="stage-duration"],
html[data-theme="warm-mid"] [class*="toast"],
html[data-theme="warm-mid"] [class*="quick-stat"],
html[data-theme="warm-mid"] [class*="about-privacy"],
html[data-theme="warm-mid"] [class*="mode-btn"],
html[data-theme="warm-mid"] [class*="picker"],
html[data-theme="warm-mid"] [class*="editor-pill"],
html[data-theme="warm-mid"] [class*="editor-btn"],
html[data-theme="warm-mid"] [class*="history"],
html[data-theme="warm-mid"] [class*="item-"],
html[data-theme="warm-mid"] [class*="event-row"],
html[data-theme="warm-mid"] [class*="empty-state"],
html[data-theme="warm-mid"] [class*="factor"],
html[data-theme="warm-mid"] [class*="recent"],
html[data-theme="warm-mid"] [class*="session-"],
html[data-theme="warm-mid"] [class*="snapshot"],
html[data-theme="warm-mid"] [class*="share"],
html[data-theme="warm-mid"] [class*="location-"],
html[data-theme="warm-mid"] [class*="intensity"],
html[data-theme="warm-mid"] [class*="pause"],
html[data-theme="warm-mid"] [class*="onboarding"],
html[data-theme="warm-mid"] [class*="devtools"],
html[data-theme="warm-mid"] [class*="seed"],
html[data-theme="warm-mid"] [class*="palette"],
html[data-theme="warm-mid"] [class*="about-"],
html[data-theme="warm-mid"] [class*="setting-"],
html[data-theme="warm-mid"] [class*="toggle"],
html[data-theme="warm-mid"] [class*="archive"],
html[data-theme="warm-mid"] [class*="timer-display"],
html[data-theme="warm-mid"] [class*="post-rating"],
html[data-theme="warm-mid"] [class*="advisor"],
html[data-theme="warm-mid"] [class*="clinical"],
html[data-theme="warm-mid"] [class*="water-break"],
html[data-theme="warm-mid"] [class*="labor-guide"],
html[data-theme="warm-mid"] [class*="threshold"],
html[data-theme="warm-mid"] [class*="trend"],
html[data-theme="warm-mid"] [class*="progression"],
html[data-theme="warm-mid"] [class*="summary"],
html[data-theme="warm-mid"] [class*="wave-"],
html[data-theme="warm-mid"] .card,
html[data-theme="warm-mid"] .card-elevated {
	--text-primary: #2c1503;
	--text-secondary: #5c3a1a;
	--text-muted: rgba(44, 21, 3, 0.65);
	--text-faint: rgba(44, 21, 3, 0.42);
	--accent: #8b5e14;
	--danger: #b83230;
	color: #2c1503;
}

/* Form elements inside card containers need explicit dark text */
html[data-theme="warm-mid"] [class*="card"] input,
html[data-theme="warm-mid"] [class*="card"] select,
html[data-theme="warm-mid"] [class*="card"] textarea,
html[data-theme="warm-mid"] [class*="editor"] input,
html[data-theme="warm-mid"] [class*="editor"] select,
html[data-theme="warm-mid"] [class*="history"] input,
html[data-theme="warm-mid"] [class*="history"] select,
html[data-theme="warm-mid"] [class*="setting"] input,
html[data-theme="warm-mid"] [class*="setting"] select,
html[data-theme="warm-mid"] [class*="devtools"] input,
html[data-theme="warm-mid"] [class*="devtools"] select {
	color: #2c1503;
	-webkit-text-fill-color: #2c1503;
}

html[data-theme="warm-mid"] .card {
	backdrop-filter: blur(8px) saturate(1.1);
	-webkit-backdrop-filter: blur(8px) saturate(1.1);
	border: 1.5px solid rgba(196, 136, 14, 0.35);
	border-radius: 8px;
	box-shadow:
		0 4px 20px rgba(0, 0, 0, 0.45),
		0 0 16px rgba(196, 136, 14, 0.12),
		inset 0 1px 0 rgba(255, 248, 220, 0.50),
		inset 0 0 0 1px rgba(196, 136, 14, 0.10);
	position: relative;
	overflow: hidden;
}

/* Ornate gold top border — thick gilded band with radiant center */
html[data-theme="warm-mid"] .card::before {
	content: '';
	position: absolute;
	top: 0; left: 0; right: 0;
	height: 4px;
	background:
		radial-gradient(ellipse 60% 100% at 50% 50%, rgba(255, 215, 0, 0.90), transparent),
		linear-gradient(90deg,
			rgba(139, 94, 20, 0.30),
			rgba(196, 136, 14, 0.70) 15%,
			rgba(218, 165, 32, 0.90) 35%,
			rgba(255, 215, 0, 1.0) 50%,
			rgba(218, 165, 32, 0.90) 65%,
			rgba(196, 136, 14, 0.70) 85%,
			rgba(139, 94, 20, 0.30));
	pointer-events: none;
	z-index: 1;
	box-shadow: 0 1px 6px rgba(196, 136, 14, 0.35), 0 0 12px rgba(255, 215, 0, 0.15);
}

/* Bottom flourish — thin ornamental gold line with decorative endpoints */
html[data-theme="warm-mid"] .card::after {
	content: '';
	position: absolute;
	bottom: 0; left: 8%; right: 8%;
	height: 2px;
	background:
		radial-gradient(circle 3px at 50% 50%, rgba(255, 215, 0, 0.80), transparent 4px),
		radial-gradient(circle 2px at 0% 50%, rgba(196, 136, 14, 0.60), transparent 3px),
		radial-gradient(circle 2px at 100% 50%, rgba(196, 136, 14, 0.60), transparent 3px),
		linear-gradient(90deg, transparent, rgba(196, 136, 14, 0.50) 20%, rgba(218, 165, 32, 0.65) 50%, rgba(196, 136, 14, 0.50) 80%, transparent);
	z-index: 1;
	pointer-events: none;
}

html[data-theme="warm-mid"] .card-elevated {
	backdrop-filter: blur(10px) saturate(1.1);
	-webkit-backdrop-filter: blur(10px) saturate(1.1);
	box-shadow:
		0 6px 28px rgba(0, 0, 0, 0.50),
		0 0 24px rgba(196, 136, 14, 0.18),
		inset 0 1px 0 rgba(255, 248, 220, 0.55);
	border-color: rgba(196, 136, 14, 0.40);
}

/* --- Navigation & Tabs --- */
html[data-theme="warm-mid"] .nav-tab.active {
	text-shadow: 0 0 14px rgba(196, 136, 14, 0.65), 0 0 4px rgba(255, 215, 0, 0.25);
	color: rgba(252, 246, 228, 0.95);
}

html[data-theme="warm-mid"] .bottom-nav {
	box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.50), 0 -1px 12px rgba(196, 136, 14, 0.12);
	border-top: 1px solid rgba(196, 136, 14, 0.18);
}

html[data-theme="warm-mid"] .btn-primary {
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.40), 0 0 12px rgba(196, 136, 14, 0.20);
	border-radius: 8px;
}

/* --- Titles: Majestic Cinzel Lettering --- */
html[data-theme="warm-mid"] .page-title {
	letter-spacing: 2px;
	text-transform: uppercase;
	font-weight: 700;
	text-shadow: 0 1px 3px rgba(0, 0, 0, 0.15), 0 0 8px rgba(196, 136, 14, 0.10);
}

html[data-theme="warm-mid"] .section-title {
	letter-spacing: 1.5px;
	font-variant: small-caps;
}

/* --- STAINED GLASS ROSE WINDOW EFFECT ---
   Multiple overlapping elliptical gradients in liturgical colors
   simulating light streaming through a massive rose window */
html[data-theme="warm-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		/* Central rose window — golden core */
		radial-gradient(ellipse 350px 300px at 50% 25%, rgba(255, 215, 0, 0.14), transparent),
		/* Ruby red lobe — upper left */
		radial-gradient(ellipse 280px 220px at 25% 18%, rgba(180, 30, 30, 0.10), transparent),
		/* Sapphire blue lobe — upper right */
		radial-gradient(ellipse 260px 200px at 75% 22%, rgba(30, 60, 160, 0.09), transparent),
		/* Emerald green lobe — center left */
		radial-gradient(ellipse 200px 250px at 15% 50%, rgba(20, 120, 50, 0.07), transparent),
		/* Amber shaft — center right */
		radial-gradient(ellipse 220px 280px at 85% 45%, rgba(196, 136, 14, 0.10), transparent),
		/* Deep violet lobe — lower */
		radial-gradient(ellipse 300px 200px at 40% 70%, rgba(100, 40, 120, 0.06), transparent),
		/* Second golden pool — lower right */
		radial-gradient(ellipse 250px 180px at 70% 75%, rgba(218, 165, 32, 0.08), transparent),
		/* Warm wash across bottom */
		radial-gradient(ellipse 500px 200px at 50% 90%, rgba(139, 69, 19, 0.08), transparent);
	pointer-events: none;
	z-index: 0;
	animation: rosette-glow 45s ease-in-out infinite;
}

/* --- GOLDEN DUST PARTICLES / INCENSE MOTES ---
   Tiny gold dots floating like dust caught in cathedral light shafts */
html[data-theme="warm-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background:
		/* Dust motes — scattered tiny gold dots */
		radial-gradient(circle 1.5px at 20% 15%, rgba(255, 215, 0, 0.50), transparent 2px),
		radial-gradient(circle 1px at 35% 28%, rgba(218, 165, 32, 0.45), transparent 2px),
		radial-gradient(circle 2px at 55% 12%, rgba(255, 215, 0, 0.35), transparent 3px),
		radial-gradient(circle 1px at 70% 35%, rgba(196, 136, 14, 0.50), transparent 2px),
		radial-gradient(circle 1.5px at 15% 55%, rgba(218, 165, 32, 0.40), transparent 2px),
		radial-gradient(circle 1px at 80% 50%, rgba(255, 215, 0, 0.45), transparent 2px),
		radial-gradient(circle 2px at 45% 65%, rgba(196, 136, 14, 0.30), transparent 3px),
		radial-gradient(circle 1px at 25% 78%, rgba(218, 165, 32, 0.45), transparent 2px),
		radial-gradient(circle 1.5px at 65% 72%, rgba(255, 215, 0, 0.35), transparent 2px),
		radial-gradient(circle 1px at 85% 82%, rgba(196, 136, 14, 0.40), transparent 2px),
		radial-gradient(circle 1px at 40% 88%, rgba(218, 165, 32, 0.45), transparent 2px),
		radial-gradient(circle 2px at 10% 42%, rgba(255, 215, 0, 0.30), transparent 3px),
		radial-gradient(circle 1px at 90% 18%, rgba(196, 136, 14, 0.50), transparent 2px),
		radial-gradient(circle 1.5px at 50% 45%, rgba(255, 215, 0, 0.35), transparent 2px);
	pointer-events: none;
	z-index: 0;
	animation: incense-drift 50s ease-in-out infinite;
	opacity: 0.6;
}

/* --- Ornate gold page title divider --- */
html[data-theme="warm-mid"] .page-title::after {
	content: '';
	display: block;
	width: 80px;
	height: 4px;
	margin-top: 8px;
	background:
		radial-gradient(circle 4px at 50% 50%, rgba(255, 215, 0, 0.95), transparent 5px),
		linear-gradient(90deg,
			transparent,
			rgba(196, 136, 14, 0.70) 15%,
			rgba(218, 165, 32, 0.90) 40%,
			rgba(255, 215, 0, 1.0) 50%,
			rgba(218, 165, 32, 0.90) 60%,
			rgba(196, 136, 14, 0.70) 85%,
			transparent);
	border-radius: 2px;
	box-shadow: 0 0 12px rgba(196, 136, 14, 0.35), 0 0 4px rgba(255, 215, 0, 0.20);
}

/* --- Ornate gold top border on bottom nav --- */
html[data-theme="warm-mid"] .bottom-nav::before {
	content: '';
	position: absolute;
	top: 0; left: 5%; right: 5%;
	height: 3px;
	background:
		radial-gradient(circle 3px at 50% 50%, rgba(255, 215, 0, 0.80), transparent 4px),
		linear-gradient(90deg,
			transparent,
			rgba(196, 136, 14, 0.50) 10%,
			rgba(218, 165, 32, 0.75) 30%,
			rgba(255, 215, 0, 0.90) 50%,
			rgba(218, 165, 32, 0.75) 70%,
			rgba(196, 136, 14, 0.50) 90%,
			transparent);
	box-shadow: 0 0 10px rgba(196, 136, 14, 0.25), 0 1px 4px rgba(255, 215, 0, 0.12);
}

html[data-theme="warm-mid"] .card:hover {
	box-shadow:
		0 6px 28px rgba(0, 0, 0, 0.50),
		0 0 20px rgba(196, 136, 14, 0.20),
		inset 0 1px 0 rgba(255, 248, 220, 0.55);
	border-color: rgba(196, 136, 14, 0.45);
	transition: box-shadow 250ms ease, border-color 250ms ease;
}

/* --- Header bar: dark stone with gold shimmer --- */
html[data-theme="warm-mid"] .header-bar {
	border-bottom: 1px solid rgba(196, 136, 14, 0.20);
	box-shadow: 0 2px 12px rgba(0, 0, 0, 0.40);
}

/* --- Big button extra gold glow on idle --- */
html[data-theme="warm-mid"] .big-button {
	border-width: 2px;
	max-width: min(320px, calc(100vw - 48px));
}

/* --- Prevent Cinzel font + letter-spacing from overflowing buttons --- */
html[data-theme="warm-mid"] button,
html[data-theme="warm-mid"] [class*="btn"] {
	max-width: 100%;
	box-sizing: border-box;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* ============================================
   4. ABYSS (ocean-mid) — "Deep Ocean Bioluminescence"
   Near-black teal bg, dark cards, water caustics, bioluminescent glow
   ============================================ */

html[data-theme="ocean-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
	background-size: 250% 250%;
	animation: caustic-shimmer 20s ease-in-out infinite;
}

html[data-theme="ocean-mid"] {
	--radius-md: 12px;
	--radius-lg: 16px;
	--radius-xl: 20px;
	--shadow-sm: 0 0 8px rgba(45, 212, 191, 0.15), inset 0 1px 0 rgba(45, 212, 191, 0.06);
	--shadow-md: 0 0 16px rgba(45, 212, 191, 0.22), inset 0 1px 0 rgba(45, 212, 191, 0.08);
	--shadow-lg: 0 0 28px rgba(45, 212, 191, 0.30), inset 0 1px 0 rgba(45, 212, 191, 0.10);
}

html[data-theme="ocean-mid"] .card {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(45, 212, 191, 0.20);
	border-radius: 12px;
	box-shadow: 0 0 14px rgba(45, 212, 191, 0.12), inset 0 1px 0 rgba(45, 212, 191, 0.06);
	position: relative;
	overflow: hidden;
}

/* Caustic shimmer on card top edge */
html[data-theme="ocean-mid"] .card::before {
	content: '';
	position: absolute;
	top: 0; left: 0;
	width: 35%;
	height: 2px;
	background: linear-gradient(90deg, transparent, rgba(45, 212, 191, 0.6), rgba(94, 234, 212, 0.4), transparent);
	animation: shimmer-sweep 5s ease-in-out infinite;
	pointer-events: none;
}

html[data-theme="ocean-mid"] .card-elevated {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(45, 212, 191, 0.28);
	box-shadow: 0 0 22px rgba(45, 212, 191, 0.18), inset 0 1px 0 rgba(45, 212, 191, 0.08);
}

html[data-theme="ocean-mid"] .nav-tab.active {
	text-shadow: 0 0 10px currentColor;
	filter: drop-shadow(0 0 4px currentColor);
}

html[data-theme="ocean-mid"] .bottom-nav {
	border-top: 1px solid rgba(45, 212, 191, 0.20);
	box-shadow: 0 -2px 16px rgba(45, 212, 191, 0.12);
}

html[data-theme="ocean-mid"] .btn-primary {
	border-radius: 12px;
	box-shadow: 0 0 14px rgba(20, 184, 166, 0.22);
}

/* Water caustic overlay */
html[data-theme="ocean-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(ellipse 200px 120px at 25% 40%, rgba(45, 212, 191, 0.10), transparent),
		radial-gradient(ellipse 160px 180px at 70% 25%, rgba(20, 184, 166, 0.08), transparent),
		radial-gradient(ellipse 180px 100px at 50% 80%, rgba(94, 234, 212, 0.06), transparent);
	pointer-events: none;
	z-index: 0;
	animation: caustic-shimmer 15s ease-in-out infinite;
	background-size: 200% 200%;
}

/* Bioluminescent particles */
html[data-theme="ocean-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(circle 2px at 12% 20%, rgba(94, 234, 212, 0.50), transparent 4px),
		radial-gradient(circle 1px at 28% 55%, rgba(45, 212, 191, 0.45), transparent 3px),
		radial-gradient(circle 2px at 45% 12%, rgba(94, 234, 212, 0.40), transparent 4px),
		radial-gradient(circle 1px at 62% 75%, rgba(45, 212, 191, 0.50), transparent 3px),
		radial-gradient(circle 2px at 78% 38%, rgba(94, 234, 212, 0.35), transparent 4px),
		radial-gradient(circle 1px at 88% 65%, rgba(45, 212, 191, 0.40), transparent 3px),
		radial-gradient(circle 2px at 35% 88%, rgba(94, 234, 212, 0.45), transparent 4px),
		radial-gradient(circle 1px at 55% 42%, rgba(52, 211, 153, 0.35), transparent 3px),
		radial-gradient(circle 2px at 92% 15%, rgba(94, 234, 212, 0.30), transparent 4px),
		radial-gradient(circle 1px at 18% 78%, rgba(45, 212, 191, 0.45), transparent 3px);
	pointer-events: none;
	z-index: 0;
	animation: twinkle 4s ease-in-out infinite;
}

html[data-theme="ocean-mid"] .page-title {
	text-shadow: 0 0 12px rgba(45, 212, 191, 0.25);
}

html[data-theme="ocean-mid"] .page-title::after {
	content: '';
	display: block;
	width: 60px;
	height: 3px;
	margin-top: 6px;
	background: linear-gradient(90deg, rgba(45, 212, 191, 0.6), rgba(20, 184, 166, 0.3), transparent);
	border-radius: 2px;
	box-shadow: 0 0 8px rgba(45, 212, 191, 0.25);
}

/* All text gets subtle teal glow */
html[data-theme="ocean-mid"] .card {
	text-shadow: 0 0 8px rgba(45, 212, 191, 0.15);
}

html[data-theme="ocean-mid"] .card:hover {
	border-color: rgba(45, 212, 191, 0.35);
	box-shadow: 0 0 22px rgba(45, 212, 191, 0.18);
	transition: all 300ms ease;
}

html[data-theme="ocean-mid"] .btn-primary:active {
	box-shadow: 0 0 0 4px rgba(45, 212, 191, 0.15), 0 0 14px rgba(20, 184, 166, 0.22);
	transition: box-shadow 150ms;
}

/* ============================================
   5. SHIRE (forest-mid) — "There and Back Again"
   Dark hobbit-hole interior, aged parchment cards, warm candlelight
   ============================================ */

html[data-theme="forest-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
	background-size: 250% 250%;
	animation: candlelight-drift 22s ease-in-out infinite;
}

html[data-theme="forest-mid"] {
	/* Extra-cozy rounded corners — like a hobbit door */
	--radius-md: 14px;
	--radius-lg: 18px;
	--radius-xl: 22px;
	--shadow-sm: 0 2px 8px rgba(50, 100, 30, 0.12), 0 1px 3px rgba(0, 0, 0, 0.15);
	--shadow-md: 0 4px 16px rgba(50, 100, 30, 0.16), 0 2px 6px rgba(0, 0, 0, 0.18);
	--shadow-lg: 0 8px 28px rgba(50, 100, 30, 0.20), 0 4px 10px rgba(0, 0, 0, 0.22);
}

/* --- Dark text inside light-bg containers (parchment cards & panels) ---
   Global --text-primary is LIGHT (cream) for dark forest bg.
   Override to DARK green-brown inside any element with a --bg-card background. */
html[data-theme="forest-mid"] [class*="card"],
html[data-theme="forest-mid"] [class*="chart"],
html[data-theme="forest-mid"] [class*="hero"],
html[data-theme="forest-mid"] [class*="untimed"],
html[data-theme="forest-mid"] [class*="controls"],
html[data-theme="forest-mid"] [class*="event-button"],
html[data-theme="forest-mid"] [class*="collapsible"],
html[data-theme="forest-mid"] [class*="contextual-tip"],
html[data-theme="forest-mid"] [class*="braxton"],
html[data-theme="forest-mid"] [class*="stage-duration"],
html[data-theme="forest-mid"] [class*="toast"],
html[data-theme="forest-mid"] [class*="quick-stat"],
html[data-theme="forest-mid"] [class*="about-privacy"],
html[data-theme="forest-mid"] [class*="mode-btn"],
html[data-theme="forest-mid"] [class*="picker"],
html[data-theme="forest-mid"] [class*="editor-pill"],
html[data-theme="forest-mid"] [class*="editor-btn"],
html[data-theme="forest-mid"] [class*="history"],
html[data-theme="forest-mid"] [class*="item-"],
html[data-theme="forest-mid"] [class*="event-row"],
html[data-theme="forest-mid"] [class*="empty-state"],
html[data-theme="forest-mid"] [class*="factor"],
html[data-theme="forest-mid"] [class*="recent"],
html[data-theme="forest-mid"] [class*="session-"],
html[data-theme="forest-mid"] [class*="snapshot"],
html[data-theme="forest-mid"] [class*="share"],
html[data-theme="forest-mid"] [class*="location-"],
html[data-theme="forest-mid"] [class*="intensity"],
html[data-theme="forest-mid"] [class*="pause"],
html[data-theme="forest-mid"] [class*="onboarding"],
html[data-theme="forest-mid"] [class*="devtools"],
html[data-theme="forest-mid"] [class*="seed"],
html[data-theme="forest-mid"] [class*="palette"],
html[data-theme="forest-mid"] [class*="about-"],
html[data-theme="forest-mid"] [class*="setting-"],
html[data-theme="forest-mid"] [class*="toggle"],
html[data-theme="forest-mid"] [class*="archive"],
html[data-theme="forest-mid"] [class*="timer-display"],
html[data-theme="forest-mid"] [class*="post-rating"],
html[data-theme="forest-mid"] [class*="advisor"],
html[data-theme="forest-mid"] [class*="clinical"],
html[data-theme="forest-mid"] [class*="water-break"],
html[data-theme="forest-mid"] [class*="labor-guide"],
html[data-theme="forest-mid"] [class*="threshold"],
html[data-theme="forest-mid"] [class*="trend"],
html[data-theme="forest-mid"] [class*="progression"],
html[data-theme="forest-mid"] [class*="summary"],
html[data-theme="forest-mid"] [class*="wave-"],
html[data-theme="forest-mid"] .card,
html[data-theme="forest-mid"] .card-elevated {
	--text-primary: #14261a;
	--text-secondary: #264d2e;
	--text-muted: rgba(20, 38, 26, 0.65);
	--text-faint: rgba(20, 38, 26, 0.42);
	--accent: #2d6e1a;
	--danger: #b83232;
	color: #14261a;
}

/* Form elements inside card containers need explicit dark text */
html[data-theme="forest-mid"] [class*="card"] input,
html[data-theme="forest-mid"] [class*="card"] select,
html[data-theme="forest-mid"] [class*="card"] textarea,
html[data-theme="forest-mid"] [class*="editor"] input,
html[data-theme="forest-mid"] [class*="editor"] select,
html[data-theme="forest-mid"] [class*="history"] input,
html[data-theme="forest-mid"] [class*="history"] select,
html[data-theme="forest-mid"] [class*="setting"] input,
html[data-theme="forest-mid"] [class*="setting"] select,
html[data-theme="forest-mid"] [class*="devtools"] input,
html[data-theme="forest-mid"] [class*="devtools"] select {
	color: #14261a;
	-webkit-text-fill-color: #14261a;
}

html[data-theme="forest-mid"] .card {
	backdrop-filter: blur(8px) saturate(1.1);
	-webkit-backdrop-filter: blur(8px) saturate(1.1);
	border: 1.5px solid rgba(93, 158, 62, 0.22);
	border-left: 3px solid rgba(93, 158, 62, 0.30);
	border-radius: 14px;
	box-shadow: 0 3px 14px rgba(0, 0, 0, 0.22), 0 1px 0 rgba(255, 255, 255, 0.35) inset;
	position: relative;
}

/* Organic vine top border — leafy green gradient */
html[data-theme="forest-mid"] .card::before {
	content: '';
	position: absolute;
	top: 0; left: 8%; right: 8%;
	height: 2px;
	background: linear-gradient(90deg, transparent, rgba(93, 158, 62, 0.40), rgba(120, 180, 80, 0.50), rgba(93, 158, 62, 0.40), transparent);
	border-radius: 0 0 2px 2px;
}

/* Faded moss bottom edge */
html[data-theme="forest-mid"] .card::after {
	content: '';
	position: absolute;
	bottom: 0; left: 12%; right: 12%;
	height: 1px;
	background: linear-gradient(90deg, transparent, rgba(93, 158, 62, 0.15), rgba(74, 130, 45, 0.12), transparent);
}

html[data-theme="forest-mid"] .card-elevated {
	backdrop-filter: blur(10px) saturate(1.1);
	-webkit-backdrop-filter: blur(10px) saturate(1.1);
	box-shadow: 0 6px 22px rgba(0, 0, 0, 0.28), 0 1px 0 rgba(255, 255, 255, 0.40) inset;
}

html[data-theme="forest-mid"] .nav-tab.active {
	border-bottom: 2.5px solid currentColor;
	text-shadow: 0 0 10px rgba(93, 158, 62, 0.40);
}

html[data-theme="forest-mid"] .bottom-nav {
	box-shadow: 0 -3px 14px rgba(0, 0, 0, 0.30);
	border-top: 1px solid rgba(93, 158, 62, 0.15);
}

html[data-theme="forest-mid"] .btn-primary {
	border-radius: 14px;
	box-shadow: 0 3px 12px rgba(50, 100, 30, 0.22);
}

/* Dappled sunlight through forest canopy — green-gold patches */
html[data-theme="forest-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(ellipse 120px 80px at 20% 18%, rgba(120, 180, 80, 0.12), transparent),
		radial-gradient(ellipse 100px 100px at 75% 30%, rgba(93, 158, 62, 0.10), transparent),
		radial-gradient(circle 70px at 40% 75%, rgba(74, 130, 45, 0.08), transparent),
		radial-gradient(ellipse 80px 60px at 60% 10%, rgba(150, 200, 100, 0.07), transparent),
		radial-gradient(circle 50px at 85% 70%, rgba(93, 158, 62, 0.06), transparent);
	pointer-events: none;
	z-index: 0;
	animation: candlelight-drift 30s ease-in-out infinite;
	background-size: 200% 200%;
}

/* Floating leaf shapes — subtle organic motion */
html[data-theme="forest-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(ellipse 8px 5px at 18% 22%, rgba(93, 158, 62, 0.12), transparent 10px),
		radial-gradient(ellipse 6px 4px at 78% 35%, rgba(120, 180, 80, 0.10), transparent 8px),
		radial-gradient(ellipse 7px 4px at 45% 80%, rgba(74, 130, 45, 0.09), transparent 9px),
		radial-gradient(ellipse 5px 3px at 62% 15%, rgba(93, 158, 62, 0.08), transparent 7px),
		radial-gradient(ellipse 9px 5px at 30% 55%, rgba(50, 100, 30, 0.07), transparent 11px),
		radial-gradient(ellipse 6px 3px at 88% 65%, rgba(120, 180, 80, 0.08), transparent 8px);
	pointer-events: none;
	z-index: 0;
	animation: ring-drift 35s ease-in-out infinite;
}

/* Green leaf diamond section markers */
html[data-theme="forest-mid"] .section-title {
	position: relative;
	padding-left: 16px;
}

html[data-theme="forest-mid"] .section-title::before {
	content: '';
	position: absolute;
	left: 0; top: 50%;
	transform: translateY(-50%) rotate(45deg);
	width: 7px;
	height: 7px;
	background: rgba(93, 158, 62, 0.50);
	border: 1px solid rgba(120, 180, 80, 0.30);
	border-radius: 2px;
}

/* Mossy green page title glow */
html[data-theme="forest-mid"] .page-title {
	text-shadow: 0 0 18px rgba(93, 158, 62, 0.22), 0 0 4px rgba(120, 180, 80, 0.12);
}

/* Green vine divider under page title */
html[data-theme="forest-mid"] .page-title::after {
	content: '';
	display: block;
	width: 70px;
	height: 2px;
	margin-top: 8px;
	background: linear-gradient(90deg, rgba(93, 158, 62, 0.55), rgba(120, 180, 80, 0.40), rgba(50, 100, 30, 0.18), transparent);
	border-radius: 2px;
}

html[data-theme="forest-mid"] .card:hover {
	box-shadow: 0 3px 14px rgba(0, 0, 0, 0.25), 0 6px 20px rgba(93, 158, 62, 0.10), 0 1px 0 rgba(255, 255, 255, 0.40) inset;
	border-color: rgba(93, 158, 62, 0.30);
	transition: box-shadow 250ms ease, border-color 250ms ease;
}

html[data-theme="forest-mid"] .header-bar {
	border-bottom: 1px solid rgba(93, 158, 62, 0.18);
	box-shadow: 0 2px 12px rgba(0, 0, 0, 0.30);
}

html[data-theme="forest-mid"] .big-button {
	border-width: 2px;
	max-width: min(320px, calc(100vw - 48px));
}

/* Prevent Playfair Display font from overflowing buttons */
html[data-theme="forest-mid"] button,
html[data-theme="forest-mid"] [class*="btn"] {
	max-width: 100%;
	box-sizing: border-box;
	overflow: hidden;
	text-overflow: ellipsis;
}

html[data-theme="forest-mid"] .btn-primary:active {
	box-shadow: 0 0 0 4px rgba(93, 158, 62, 0.15), 0 0 14px rgba(93, 158, 62, 0.20);
	transition: box-shadow 150ms;
}


/* ============================================
   6. RETROWAVE (sunset-mid) — "80s Neon Synthwave"
   Dark purple bg, neon grid, scanlines, pink/orange glow
   ============================================ */

html[data-theme="sunset-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
}

html[data-theme="sunset-mid"] {
	--radius-md: 8px;
	--radius-lg: 10px;
	--radius-xl: 12px;
	--shadow-sm: 0 0 8px rgba(236, 72, 153, 0.18), inset 0 1px 0 rgba(236, 72, 153, 0.06);
	--shadow-md: 0 0 16px rgba(236, 72, 153, 0.25), inset 0 1px 0 rgba(236, 72, 153, 0.08);
	--shadow-lg: 0 0 28px rgba(236, 72, 153, 0.32), inset 0 1px 0 rgba(236, 72, 153, 0.10);
}

html[data-theme="sunset-mid"] .card {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(236, 72, 153, 0.30);
	border-radius: 8px;
	box-shadow: 0 0 12px rgba(236, 72, 153, 0.15), inset 0 1px 0 rgba(251, 146, 60, 0.06);
	position: relative;
	overflow: hidden;
}

/* Neon shimmer top edge */
html[data-theme="sunset-mid"] .card::before {
	content: '';
	position: absolute;
	top: 0; left: 0;
	width: 40%;
	height: 2px;
	background: linear-gradient(90deg, transparent, rgba(236, 72, 153, 0.7), rgba(251, 146, 60, 0.5), transparent);
	animation: shimmer-sweep 4s ease-in-out infinite;
	pointer-events: none;
}

/* Bottom neon accent */
html[data-theme="sunset-mid"] .card::after {
	content: '';
	position: absolute;
	bottom: 0; left: 0; right: 0;
	height: 1px;
	background: linear-gradient(90deg, rgba(236, 72, 153, 0.3), rgba(251, 146, 60, 0.4), rgba(236, 72, 153, 0.3));
}

html[data-theme="sunset-mid"] .card-elevated {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(236, 72, 153, 0.40);
	box-shadow: 0 0 20px rgba(236, 72, 153, 0.22), inset 0 1px 0 rgba(251, 146, 60, 0.08);
}

html[data-theme="sunset-mid"] .nav-tab.active {
	text-shadow: 0 0 12px currentColor;
	filter: drop-shadow(0 0 4px currentColor);
}

html[data-theme="sunset-mid"] .bottom-nav {
	border-top: 1px solid rgba(236, 72, 153, 0.30);
	box-shadow: 0 -2px 14px rgba(236, 72, 153, 0.15);
}

html[data-theme="sunset-mid"] .btn-primary {
	box-shadow: 0 0 14px rgba(236, 72, 153, 0.25);
	border-radius: 8px;
}

/* Neon grid lines on background */
html[data-theme="sunset-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		repeating-linear-gradient(
			0deg,
			transparent 0, transparent 39px,
			rgba(236, 72, 153, 0.08) 39px, rgba(236, 72, 153, 0.08) 40px
		),
		repeating-linear-gradient(
			90deg,
			transparent 0, transparent 39px,
			rgba(251, 146, 60, 0.06) 39px, rgba(251, 146, 60, 0.06) 40px
		);
	animation: grid-scroll 8s linear infinite;
	pointer-events: none;
	z-index: 0;
}

/* Retrowave horizon "sun" at bottom */
html[data-theme="sunset-mid"] body::after {
	content: '';
	position: fixed;
	bottom: -60px;
	left: 50%;
	transform: translateX(-50%);
	width: 200px;
	height: 200px;
	border-radius: 50%;
	background: radial-gradient(circle, rgba(251, 146, 60, 0.18) 0%, rgba(236, 72, 153, 0.10) 40%, transparent 70%);
	box-shadow: 0 0 80px 30px rgba(236, 72, 153, 0.08);
	pointer-events: none;
	z-index: 0;
}

html[data-theme="sunset-mid"] .page-title {
	text-shadow: 0 0 10px rgba(251, 146, 60, 0.30);
}

html[data-theme="sunset-mid"] .page-title::after {
	content: '';
	display: block;
	width: 80px;
	height: 3px;
	margin-top: 6px;
	background: linear-gradient(90deg, #ec4899, #fb923c, #ec4899);
	box-shadow: 0 0 8px rgba(236, 72, 153, 0.40);
	border-radius: 0;
}

/* Neon bottom nav glow bar */
html[data-theme="sunset-mid"] .bottom-nav::before {
	content: '';
	position: absolute;
	top: 0; left: 0; right: 0;
	height: 1px;
	background: linear-gradient(90deg, rgba(251, 146, 60, 0.5), rgba(236, 72, 153, 0.6), rgba(251, 146, 60, 0.5));
	box-shadow: 0 0 8px rgba(236, 72, 153, 0.30);
}

/* All text gets neon glow */
html[data-theme="sunset-mid"] .page-title,
html[data-theme="sunset-mid"] .section-title,
html[data-theme="sunset-mid"] .card {
	text-shadow: 0 0 8px rgba(251, 146, 60, 0.18);
}

html[data-theme="sunset-mid"] .nav-tab {
	position: relative;
}

html[data-theme="sunset-mid"] .nav-tab.active::after {
	content: '';
	position: absolute;
	bottom: 4px;
	left: 20%; right: 20%;
	height: 2px;
	background: linear-gradient(90deg, #fb923c, #ec4899);
	box-shadow: 0 0 6px rgba(236, 72, 153, 0.40);
	border-radius: 1px;
}

html[data-theme="sunset-mid"] .card:hover {
	border-color: rgba(236, 72, 153, 0.45);
	box-shadow: 0 0 20px rgba(236, 72, 153, 0.22);
	transition: all 200ms ease;
}

html[data-theme="sunset-mid"] .btn-primary:hover {
	box-shadow: 0 0 24px rgba(236, 72, 153, 0.35), 0 0 48px rgba(236, 72, 153, 0.12);
	transition: box-shadow 200ms ease;
}

/* ============================================
   7. FROST (lavender-mid) — "Clean Ice Crystal"
   Pristine white/ice blue, frosted glass cards, minimal color, winter aesthetic
   ============================================ */

html[data-theme="lavender-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
}

html[data-theme="lavender-mid"] {
	--radius-md: 12px;
	--radius-lg: 16px;
	--radius-xl: 20px;
	--shadow-sm: 0 1px 4px rgba(0, 0, 0, 0.04), 0 2px 8px rgba(91, 141, 239, 0.06);
	--shadow-md: 0 2px 8px rgba(0, 0, 0, 0.05), 0 4px 16px rgba(91, 141, 239, 0.08);
	--shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.06), 0 8px 32px rgba(91, 141, 239, 0.10);
}

html[data-theme="lavender-mid"] .card {
	backdrop-filter: blur(16px) saturate(1.1);
	-webkit-backdrop-filter: blur(16px) saturate(1.1);
	border: 1px solid rgba(255, 255, 255, 0.80);
	border-radius: 12px;
	box-shadow: 0 2px 12px rgba(91, 141, 239, 0.08), 0 1px 3px rgba(0, 0, 0, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.90);
	position: relative;
	overflow: hidden;
}

/* Subtle frost shimmer — barely visible blue sweep */
html[data-theme="lavender-mid"] .card::before {
	content: '';
	position: absolute;
	top: 0; left: 0;
	width: 40%;
	height: 1px;
	background: linear-gradient(90deg, transparent, rgba(147, 197, 253, 0.50), rgba(91, 141, 239, 0.30), transparent);
	animation: shimmer-sweep 6s ease-in-out infinite;
	pointer-events: none;
}

/* Remove the old geometric corner bracket */
html[data-theme="lavender-mid"] .card::after {
	content: none;
}

html[data-theme="lavender-mid"] .card-elevated {
	backdrop-filter: blur(18px) saturate(1.1);
	-webkit-backdrop-filter: blur(18px) saturate(1.1);
	box-shadow: 0 4px 20px rgba(91, 141, 239, 0.10), inset 0 1px 0 rgba(255, 255, 255, 0.95);
}

html[data-theme="lavender-mid"] .nav-tab.active {
	font-weight: 600;
	color: var(--accent);
}

html[data-theme="lavender-mid"] .bottom-nav {
	box-shadow: 0 -1px 8px rgba(91, 141, 239, 0.08);
	border-top: 1px solid rgba(91, 141, 239, 0.10);
}

html[data-theme="lavender-mid"] .btn-primary {
	border-radius: 12px;
	box-shadow: 0 2px 8px rgba(91, 141, 239, 0.18);
}

html[data-theme="lavender-mid"] .page-title,
html[data-theme="lavender-mid"] .section-title {
	letter-spacing: 0.02em;
	font-weight: 700;
}

/* Gentle frost refraction light — very subtle */
html[data-theme="lavender-mid"] body::before {
	content: '';
	position: fixed;
	top: 0; left: 0; right: 0;
	height: 40%;
	background: radial-gradient(ellipse at 40% 20%, rgba(186, 210, 255, 0.20), transparent 60%);
	pointer-events: none;
	z-index: 0;
}

html[data-theme="lavender-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(ellipse at 70% 80%, rgba(147, 197, 253, 0.10), transparent 50%);
	pointer-events: none;
	z-index: 0;
}

/* Clean underline on page titles */
html[data-theme="lavender-mid"] .page-title {
	/* Remove the old gradient text fill */
	background: none;
	-webkit-background-clip: unset;
	-webkit-text-fill-color: unset;
	background-clip: unset;
	color: var(--text-primary);
	position: relative;
	padding-bottom: 10px;
}

html[data-theme="lavender-mid"] .page-title::after {
	content: '';
	position: absolute;
	bottom: 0; left: 0;
	width: 40px;
	height: 2px;
	background: var(--accent);
	border-radius: 1px;
}

/* Clean dot before section titles instead of rotated square */
html[data-theme="lavender-mid"] .section-title {
	position: relative;
	padding-left: 14px;
}

html[data-theme="lavender-mid"] .section-title::before {
	content: '';
	position: absolute;
	left: 0; top: 50%;
	transform: translateY(-50%);
	width: 6px;
	height: 6px;
	border-radius: 50%;
	background: var(--accent);
	border: none;
}

html[data-theme="lavender-mid"] .btn-primary:hover {
	box-shadow: 0 4px 16px rgba(91, 141, 239, 0.25);
	transition: box-shadow 200ms ease;
}

/* ============================================
   8. GALAXY (midnight-mid) — "Deep Space Nebula"
   Near-black bg, dense starfield, nebula clouds, indigo glow
   ============================================ */

html[data-theme="midnight-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
	background-size: 200% 200%;
	animation: aurora-drift 40s ease infinite;
}

html[data-theme="midnight-mid"] {
	--radius-md: 10px;
	--radius-lg: 12px;
	--radius-xl: 14px;
	--shadow-sm: 0 0 8px rgba(99, 102, 241, 0.20), 0 1px 3px rgba(0, 0, 0, 0.10);
	--shadow-md: 0 0 16px rgba(99, 102, 241, 0.25), 0 2px 6px rgba(0, 0, 0, 0.12);
	--shadow-lg: 0 0 28px rgba(99, 102, 241, 0.32), 0 4px 10px rgba(0, 0, 0, 0.14);
}

html[data-theme="midnight-mid"] .card {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(99, 102, 241, 0.28);
	border-radius: 10px;
	box-shadow: 0 0 14px rgba(99, 102, 241, 0.15), inset 0 1px 0 rgba(99, 102, 241, 0.06);
	position: relative;
}

/* Corner brackets — top-left */
html[data-theme="midnight-mid"] .card::before {
	content: '';
	position: absolute;
	top: 6px; left: 6px;
	width: 16px; height: 16px;
	border-top: 1.5px solid rgba(99, 102, 241, 0.40);
	border-left: 1.5px solid rgba(99, 102, 241, 0.40);
	border-radius: 2px 0 0 0;
	pointer-events: none;
}

/* Corner brackets — bottom-right */
html[data-theme="midnight-mid"] .card::after {
	content: '';
	position: absolute;
	bottom: 6px; right: 6px;
	width: 16px; height: 16px;
	border-bottom: 1.5px solid rgba(99, 102, 241, 0.40);
	border-right: 1.5px solid rgba(99, 102, 241, 0.40);
	border-radius: 0 0 2px 0;
	pointer-events: none;
}

html[data-theme="midnight-mid"] .card-elevated {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(99, 102, 241, 0.38);
	box-shadow: 0 0 22px rgba(99, 102, 241, 0.22), inset 0 1px 0 rgba(99, 102, 241, 0.08);
}

html[data-theme="midnight-mid"] .nav-tab.active {
	text-shadow: 0 0 14px currentColor;
	filter: drop-shadow(0 0 6px currentColor);
}

html[data-theme="midnight-mid"] .bottom-nav {
	border-top: 1px solid rgba(99, 102, 241, 0.25);
	box-shadow: 0 -2px 14px rgba(99, 102, 241, 0.15);
}

html[data-theme="midnight-mid"] .btn-primary {
	box-shadow: 0 0 14px rgba(99, 102, 241, 0.25);
	border-radius: 10px;
	animation: supernova-pulse 4s ease-in-out infinite;
}

/* Nebula clouds */
html[data-theme="midnight-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(ellipse 300px 200px at 20% 30%, rgba(99, 102, 241, 0.12), transparent),
		radial-gradient(ellipse 250px 180px at 75% 60%, rgba(139, 92, 246, 0.08), transparent),
		radial-gradient(ellipse 200px 150px at 50% 80%, rgba(6, 182, 212, 0.06), transparent),
		radial-gradient(ellipse 180px 120px at 85% 15%, rgba(168, 85, 247, 0.10), transparent);
	pointer-events: none;
	z-index: 0;
	animation: aurora-drift 45s ease infinite;
	background-size: 200% 200%;
}

/* Dense starfield — 20+ stars */
html[data-theme="midnight-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(circle 1px at 5% 8%, rgba(199, 210, 254, 0.70), transparent 2px),
		radial-gradient(circle 1px at 12% 35%, rgba(165, 180, 252, 0.55), transparent 2px),
		radial-gradient(circle 2px at 18% 65%, rgba(199, 210, 254, 0.60), transparent 3px),
		radial-gradient(circle 1px at 25% 12%, rgba(165, 180, 252, 0.50), transparent 2px),
		radial-gradient(circle 1px at 32% 82%, rgba(199, 210, 254, 0.65), transparent 2px),
		radial-gradient(circle 2px at 38% 45%, rgba(165, 180, 252, 0.45), transparent 3px),
		radial-gradient(circle 1px at 45% 22%, rgba(199, 210, 254, 0.55), transparent 2px),
		radial-gradient(circle 1px at 52% 68%, rgba(165, 180, 252, 0.60), transparent 2px),
		radial-gradient(circle 2px at 58% 5%, rgba(199, 210, 254, 0.50), transparent 3px),
		radial-gradient(circle 1px at 65% 55%, rgba(165, 180, 252, 0.65), transparent 2px),
		radial-gradient(circle 1px at 72% 28%, rgba(199, 210, 254, 0.45), transparent 2px),
		radial-gradient(circle 2px at 78% 78%, rgba(165, 180, 252, 0.55), transparent 3px),
		radial-gradient(circle 1px at 85% 42%, rgba(199, 210, 254, 0.60), transparent 2px),
		radial-gradient(circle 1px at 92% 15%, rgba(165, 180, 252, 0.50), transparent 2px),
		radial-gradient(circle 2px at 8% 88%, rgba(199, 210, 254, 0.55), transparent 3px),
		radial-gradient(circle 1px at 42% 92%, rgba(165, 180, 252, 0.45), transparent 2px),
		radial-gradient(circle 1px at 68% 8%, rgba(199, 210, 254, 0.50), transparent 2px),
		radial-gradient(circle 2px at 88% 58%, rgba(165, 180, 252, 0.60), transparent 3px),
		radial-gradient(circle 1px at 15% 48%, rgba(199, 210, 254, 0.40), transparent 2px),
		radial-gradient(circle 1px at 55% 38%, rgba(165, 180, 252, 0.55), transparent 2px),
		radial-gradient(circle 2px at 75% 92%, rgba(199, 210, 254, 0.50), transparent 3px),
		radial-gradient(circle 1px at 95% 72%, rgba(165, 180, 252, 0.45), transparent 2px);
	pointer-events: none;
	z-index: 0;
	animation: twinkle 4s ease-in-out infinite;
}

html[data-theme="midnight-mid"] .page-title {
	text-shadow: 0 0 14px rgba(99, 102, 241, 0.40), 0 0 28px rgba(99, 102, 241, 0.15);
}

html[data-theme="midnight-mid"] .page-title::after {
	content: '';
	display: block;
	width: 60px;
	height: 2px;
	margin-top: 6px;
	background: rgba(99, 102, 241, 0.7);
	box-shadow: 0 0 8px rgba(99, 102, 241, 0.5), 0 0 16px rgba(99, 102, 241, 0.25);
	border-radius: 1px;
}

/* CRT vignette */
html[data-theme="midnight-mid"] .nav-tab {
	position: relative;
}

html[data-theme="midnight-mid"] .nav-tab.active::after {
	content: '';
	position: absolute;
	bottom: 4px;
	left: 30%; right: 30%;
	height: 2px;
	background: var(--accent);
	box-shadow: 0 0 6px var(--accent);
	border-radius: 1px;
}

html[data-theme="midnight-mid"] .bottom-nav::before {
	content: '';
	position: absolute;
	top: 0; left: 15%; right: 15%;
	height: 1px;
	background: rgba(99, 102, 241, 0.40);
	box-shadow: 0 0 6px rgba(99, 102, 241, 0.30);
}

/* All text gets starlight glow */
html[data-theme="midnight-mid"] .card {
	text-shadow: 0 0 8px rgba(165, 180, 252, 0.20);
}

html[data-theme="midnight-mid"] .btn-primary:hover {
	box-shadow: 0 0 28px rgba(99, 102, 241, 0.45), 0 0 56px rgba(99, 102, 241, 0.18);
	transition: box-shadow 200ms ease;
}

/* ============================================
   9. DREAMSCAPE (sky-mid) — "Fluffy Cloud Kingdom"
   Light sky bg, solid white cards, cloud wisps, sun rays
   ============================================ */

html[data-theme="sky-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
	background-size: 180% 180%;
	animation: cloud-float 22s ease-in-out infinite;
}

html[data-theme="sky-mid"] {
	--radius-md: 24px;
	--radius-lg: 28px;
	--radius-xl: 32px;
	--shadow-sm: 0 2px 8px rgba(2, 132, 199, 0.10);
	--shadow-md: 0 4px 14px rgba(2, 132, 199, 0.14);
	--shadow-lg: 0 6px 22px rgba(2, 132, 199, 0.18);
}

html[data-theme="sky-mid"] .card {
	backdrop-filter: blur(18px) saturate(1.4);
	-webkit-backdrop-filter: blur(18px) saturate(1.4);
	border: 1px solid rgba(255, 255, 255, 0.40);
	border-radius: 24px;
	box-shadow: 0 2px 12px rgba(2, 132, 199, 0.10), inset 0 1px 0 rgba(255, 255, 255, 0.5);
	position: relative;
	overflow: hidden;
}

/* Soft cloud glow at card top */
html[data-theme="sky-mid"] .card::before {
	content: '';
	position: absolute;
	top: -10px; left: 10%;
	width: 80%; height: 30px;
	background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.22), transparent 70%);
	filter: blur(8px);
	pointer-events: none;
}

html[data-theme="sky-mid"] .card-elevated {
	backdrop-filter: blur(20px) saturate(1.4);
	-webkit-backdrop-filter: blur(20px) saturate(1.4);
	box-shadow: 0 4px 18px rgba(2, 132, 199, 0.14), inset 0 1px 0 rgba(255, 255, 255, 0.55);
}

html[data-theme="sky-mid"] .nav-tab.active {
	text-shadow: 0 0 6px currentColor;
}

html[data-theme="sky-mid"] .bottom-nav {
	box-shadow: 0 -1px 8px rgba(2, 132, 199, 0.08);
}

html[data-theme="sky-mid"] .btn-primary {
	border-radius: 24px;
	box-shadow: 0 6px 24px rgba(2, 132, 199, 0.12), 0 12px 40px rgba(56, 189, 248, 0.06);
}

/* Cloud wisps */
html[data-theme="sky-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(ellipse 200px 65px at 25% 20%, rgba(255, 255, 255, 0.18), transparent),
		radial-gradient(ellipse 160px 50px at 70% 50%, rgba(255, 255, 255, 0.15), transparent),
		radial-gradient(ellipse 120px 40px at 40% 80%, rgba(255, 255, 255, 0.12), transparent);
	pointer-events: none;
	z-index: 0;
	animation: cloud-float 18s ease-in-out infinite;
}

/* Sun rays from top */
html[data-theme="sky-mid"] body::after {
	content: '';
	position: fixed;
	top: 5%;
	left: 50%;
	transform: translateX(-50%);
	width: 200px;
	height: 200px;
	border-radius: 50%;
	background:
		radial-gradient(circle, rgba(255, 255, 255, 0.12) 0%, transparent 60%),
		repeating-conic-gradient(from 0deg, rgba(255, 255, 255, 0.04) 0deg 5deg, transparent 5deg 30deg);
	pointer-events: none;
	z-index: 0;
	animation: sun-rays 60s linear infinite;
}

html[data-theme="sky-mid"] .page-title::after {
	content: '';
	display: block;
	width: 80px;
	height: 2px;
	margin-top: 8px;
	background: linear-gradient(90deg, rgba(2, 132, 199, 0.3), rgba(56, 189, 248, 0.2), transparent);
	border-radius: 20px;
}

html[data-theme="sky-mid"] .nav-tab {
	position: relative;
}

html[data-theme="sky-mid"] .nav-tab.active::after {
	content: '';
	position: absolute;
	bottom: 8px;
	left: 50%;
	transform: translateX(-50%);
	width: 24px;
	height: 3px;
	background: var(--accent);
	border-radius: 20px;
	opacity: 0.5;
}

html[data-theme="sky-mid"] .card:hover {
	transform: translateY(-3px);
	box-shadow: 0 8px 24px rgba(2, 132, 199, 0.16), inset 0 1px 0 rgba(255, 255, 255, 0.55);
	transition: transform 200ms ease, box-shadow 200ms ease;
}

/* ============================================
   10. SAKURA (blush-mid) — "Cherry Blossom Twilight"
   Deep twilight mauve bg, dark cards, floating petals, pink glow
   ============================================ */

html[data-theme="blush-mid"] body {
	background: var(--gradient-bg, var(--bg-primary));
	background-attachment: fixed;
	background-size: 180% 180%;
	animation: warm-breathe 10s ease-in-out infinite;
}

html[data-theme="blush-mid"] {
	--radius-md: 18px;
	--radius-lg: 22px;
	--radius-xl: 26px;
	--shadow-sm: 0 0 8px rgba(236, 72, 153, 0.15), inset 0 1px 0 rgba(244, 114, 182, 0.06);
	--shadow-md: 0 0 16px rgba(236, 72, 153, 0.22), inset 0 1px 0 rgba(244, 114, 182, 0.08);
	--shadow-lg: 0 0 28px rgba(236, 72, 153, 0.28), inset 0 1px 0 rgba(244, 114, 182, 0.10);
}

html[data-theme="blush-mid"] .card {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(236, 72, 153, 0.20);
	border-radius: 18px;
	box-shadow: 0 0 14px rgba(236, 72, 153, 0.12), inset 0 1px 0 rgba(251, 207, 232, 0.08);
	position: relative;
	overflow: hidden;
}

/* Soft pink glow at card top */
html[data-theme="blush-mid"] .card::before {
	content: '';
	position: absolute;
	top: -20%; left: -10%;
	width: 60%; height: 50%;
	background: radial-gradient(ellipse at center, rgba(244, 114, 182, 0.12), transparent 70%);
	pointer-events: none;
}

html[data-theme="blush-mid"] .card-elevated {
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	border: 1px solid rgba(236, 72, 153, 0.28);
	box-shadow: 0 0 22px rgba(236, 72, 153, 0.18), inset 0 1px 0 rgba(251, 207, 232, 0.10);
}

html[data-theme="blush-mid"] .nav-tab.active {
	text-shadow: 0 0 8px rgba(236, 72, 153, 0.40);
}

html[data-theme="blush-mid"] .bottom-nav {
	border-top: 1px solid rgba(236, 72, 153, 0.20);
	box-shadow: 0 -3px 12px rgba(236, 72, 153, 0.12);
}

html[data-theme="blush-mid"] .btn-primary {
	border-radius: 18px;
	box-shadow: 0 0 12px rgba(236, 72, 153, 0.18);
}

/* Floating cherry blossom petals */
html[data-theme="blush-mid"] body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(circle 8px at 15% 20%, rgba(244, 114, 182, 0.18), transparent 12px),
		radial-gradient(circle 6px at 80% 15%, rgba(251, 207, 232, 0.14), transparent 10px),
		radial-gradient(circle 7px at 60% 80%, rgba(244, 114, 182, 0.16), transparent 11px),
		radial-gradient(circle 5px at 30% 65%, rgba(251, 207, 232, 0.12), transparent 8px),
		radial-gradient(circle 9px at 90% 50%, rgba(244, 114, 182, 0.14), transparent 13px),
		radial-gradient(circle 6px at 45% 35%, rgba(236, 72, 153, 0.10), transparent 10px),
		radial-gradient(circle 7px at 72% 70%, rgba(251, 207, 232, 0.15), transparent 11px);
	pointer-events: none;
	z-index: 0;
	animation: bubble-bob 18s ease-in-out infinite;
}

/* Pink ambient glow */
html[data-theme="blush-mid"] body::after {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(ellipse 200px 150px at 25% 40%, rgba(236, 72, 153, 0.10), transparent),
		radial-gradient(ellipse 180px 120px at 75% 30%, rgba(244, 114, 182, 0.08), transparent),
		radial-gradient(ellipse 150px 100px at 50% 85%, rgba(251, 207, 232, 0.06), transparent);
	pointer-events: none;
	z-index: 0;
}

html[data-theme="blush-mid"] .page-title {
	text-shadow: 0 0 10px rgba(244, 114, 182, 0.20);
}

html[data-theme="blush-mid"] .page-title::after {
	content: '';
	display: block;
	width: 55px;
	height: 3px;
	margin-top: 6px;
	background: linear-gradient(90deg, rgba(236, 72, 153, 0.5), rgba(244, 114, 182, 0.3));
	border-radius: 20px;
	box-shadow: 0 0 8px rgba(236, 72, 153, 0.25);
}

html[data-theme="blush-mid"] .nav-tab {
	position: relative;
}

html[data-theme="blush-mid"] .nav-tab.active::after {
	content: '';
	position: absolute;
	bottom: 6px;
	left: 50%;
	transform: translateX(-50%);
	width: 16px;
	height: 4px;
	background: var(--accent);
	border-radius: 20px;
	box-shadow: 0 0 6px rgba(236, 72, 153, 0.30);
}

/* All text gets subtle pink glow */
html[data-theme="blush-mid"] .card {
	text-shadow: 0 0 8px rgba(244, 114, 182, 0.15);
}

/* Bouncy squish on card press */
html[data-theme="blush-mid"] .card:active {
	animation: cushion-squish 300ms ease;
}

/* Playful button hover */
html[data-theme="blush-mid"] .btn-primary:hover {
	transform: rotate(-1deg) scale(1.02);
	box-shadow: 0 0 18px rgba(236, 72, 153, 0.25);
	transition: transform 200ms ease, box-shadow 200ms ease;
}

html[data-theme="blush-mid"] .btn-primary:active {
	transform: rotate(0deg) scale(0.98);
	transition: transform 100ms ease;
}

/* ============================================
   MID-TONE SHARED — Fallbacks & Accessibility
   ============================================ */

/* Fallback: no backdrop-filter support → more opaque backgrounds */
/* Light-card themes (Aurora, Cathedral, Shire, Frost, Dreamscape) */
@supports not (backdrop-filter: blur(1px)) {
	html[data-theme="soft-mid"],
	html[data-theme="warm-mid"],
	html[data-theme="forest-mid"],
	html[data-theme="lavender-mid"],
	html[data-theme="sky-mid"] {
		--bg-card: rgba(255, 255, 255, 0.92);
		--bg-card-hover: rgba(255, 255, 255, 0.96);
		--input-bg: rgba(255, 255, 255, 0.90);
	}
}
/* Dark-card themes (Terminal, Abyss, Retrowave, Galaxy, Sakura) */
@supports not (backdrop-filter: blur(1px)) {
	html[data-theme="clinical-mid"] {
		--bg-card: rgba(10, 40, 28, 0.96);
		--bg-card-hover: rgba(15, 50, 35, 0.98);
	}
	html[data-theme="ocean-mid"] {
		--bg-card: rgba(8, 47, 73, 0.96);
		--bg-card-hover: rgba(12, 60, 90, 0.98);
	}
	html[data-theme="sunset-mid"] {
		--bg-card: rgba(30, 15, 50, 0.96);
		--bg-card-hover: rgba(40, 20, 65, 0.98);
	}
	html[data-theme="midnight-mid"] {
		--bg-card: rgba(12, 12, 35, 0.96);
		--bg-card-hover: rgba(18, 18, 45, 0.98);
	}
	html[data-theme="blush-mid"] {
		--bg-card: rgba(60, 25, 48, 0.96);
		--bg-card-hover: rgba(75, 35, 58, 0.98);
	}
}

/* Accessibility: respect reduced motion — kill all animations */
@media (prefers-reduced-motion: reduce) {
	html[data-theme$="-mid"] body {
		animation: none !important;
		background-size: auto !important;
	}
	html[data-theme$="-mid"] body::before,
	html[data-theme$="-mid"] body::after {
		animation: none !important;
		display: none !important;
	}
	html[data-theme$="-mid"] .card,
	html[data-theme$="-mid"] .card-elevated {
		backdrop-filter: none;
		-webkit-backdrop-filter: none;
		animation: none !important;
		transition: none !important;
	}
	html[data-theme$="-mid"] .card::before,
	html[data-theme$="-mid"] .card::after,
	html[data-theme$="-mid"] .card-elevated::before,
	html[data-theme$="-mid"] .card-elevated::after {
		animation: none !important;
		display: none !important;
	}
	html[data-theme$="-mid"] .card:hover,
	html[data-theme$="-mid"] .card:active {
		transform: none !important;
		animation: none !important;
	}
	html[data-theme$="-mid"] .btn-primary,
	html[data-theme$="-mid"] .btn-primary:hover,
	html[data-theme$="-mid"] .btn-primary:active {
		transform: none !important;
		animation: none !important;
		transition: none !important;
	}
	html[data-theme$="-mid"] .page-title,
	html[data-theme$="-mid"] .page-title::before,
	html[data-theme$="-mid"] .page-title::after {
		animation: none !important;
		text-shadow: none !important;
		-webkit-text-fill-color: unset !important;
		-webkit-background-clip: unset !important;
		background: none !important;
	}
	html[data-theme$="-mid"] * {
		text-shadow: none !important;
	}
}
